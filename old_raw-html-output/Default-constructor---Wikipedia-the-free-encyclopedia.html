<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Default constructor</span></h1>
<p>In computer <a href="/wiki/Programming_languages" title="Programming languages" class="mw-redirect">programming languages</a> the term <b>default constructor</b> can refer to a <a href="/wiki/Constructor_(computer_science)" title="Constructor (computer science)" class="mw-redirect">constructor</a> that is automatically generated by the compiler in the absence of any programmer-defined constructors (e.g. in Java), and is usually a <a href="/wiki/Nullary_constructor" title="Nullary constructor">nullary constructor</a>. In other languages (e.g. in C++) it is a constructor that can be called without having to provide any arguments, irrespective of whether the constructor is auto-generated or used-defined. Note that a constructor with formal <a href="/wiki/Parameter_(computer_science)" title="Parameter (computer science)" class="mw-redirect">parameters</a> can still be called without arguments if <a href="/wiki/Default_(computer_science)" title="Default (computer science)">default</a> arguments were provided in the constructor's definition.</p>
<h2><span class="mw-headline" id="C.2B.2B">C++</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Default_constructor&amp;action=edit&amp;section=1" title="Edit section: C++">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>In <a href="/wiki/C%2B%2B" title="C++">C++</a>, the standard describes the default constructor for a class as a <a href="/wiki/Constructor_(computer_science)" title="Constructor (computer science)" class="mw-redirect">constructor</a> that can be called with no arguments (this includes a constructor whose parameters all have default arguments).<sup id="cite_ref-1" class="reference"><a href="#cite_note-1"><span>[</span>1<span>]</span></a></sup> For example:</p>
<p>WHATSON? 864ec3b8-1438-4cd3-babc-102d2daa32b5</p>
<pre class="de1">
<span class="kw2">class</span> MyClass
<span class="br0">{</span>
<span class="kw2">public</span><span class="sy4">:</span>
    MyClass<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>  <span class="co1">// constructor declared</span>
 
<span class="kw2">private</span><span class="sy4">:</span>
    <span class="kw4">int</span> x<span class="sy4">;</span>
<span class="br0">}</span><span class="sy4">;</span>
 
MyClass <span class="sy4">::</span> <span class="me2">MyClass</span><span class="br0">(</span><span class="br0">)</span>  <span class="co1">// constructor defined</span>
<span class="br0">{</span>
    x <span class="sy1">=</span> <span class="nu0">100</span><span class="sy4">;</span>
<span class="br0">}</span>
 
<span class="kw4">int</span> main<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    MyClass m<span class="sy4">;</span>  <span class="co1">// at runtime, object m is created, and the default constructor is called</span>
<span class="br0">}</span>
</pre>
<p>When allocating memory dynamically, the constructor may be called by adding parenthesis after the class name. In a sense, this is an explicit call to the constructor:</p>
<p>WHATSON? e4440214-46c0-48f7-9706-59b844b032f1</p>
<pre class="de1">
<span class="kw4">int</span> main<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    MyClass <span class="sy2">*</span> pointer <span class="sy1">=</span> <span class="kw3">new</span> MyClass<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>  <span class="co1">// at runtime, an object is created, and the</span>
                                        <span class="co1">// default constructor is called</span>
<span class="br0">}</span>
</pre>
<p>If the constructor does have one or more parameters, but they all have default values, then it is still a default constructor. Remember that each class can have at most one default constructor, either one without parameters, or one whose all parameters have default values, such as in this case:</p>
<p>WHATSON? c5467650-3665-4230-ac29-5864f2d6d230</p>
<pre class="de1">
<span class="kw2">class</span> MyClass
<span class="br0">{</span>
<span class="kw2">public</span><span class="sy4">:</span>
    MyClass <span class="br0">(</span><span class="kw4">int</span> i <span class="sy1">=</span> <span class="nu0">0</span>, std<span class="sy4">::</span><span class="me2">string</span> s <span class="sy1">=</span> <span class="st0">""</span><span class="br0">)</span><span class="sy4">;</span>  <span class="co1">// constructor declared</span>
 
<span class="kw2">private</span><span class="sy4">:</span>
    <span class="kw4">int</span> x<span class="sy4">;</span>
    <span class="kw4">int</span> y<span class="sy4">;</span>
    std<span class="sy4">::</span><span class="me2">string</span> z<span class="sy4">;</span>
<span class="br0">}</span><span class="sy4">;</span>
 
MyClass <span class="sy4">::</span> <span class="me2">MyClass</span><span class="br0">(</span><span class="kw4">int</span> i, std<span class="sy4">::</span><span class="me2">string</span> s<span class="br0">)</span>     <span class="co1">// constructor defined</span>
<span class="br0">{</span>
    x <span class="sy1">=</span> <span class="nu0">100</span><span class="sy4">;</span>
    y <span class="sy1">=</span> i<span class="sy4">;</span>
    z <span class="sy1">=</span> s<span class="sy4">;</span>
<span class="br0">}</span>
</pre>
<p>In C++, default constructors are significant because they are automatically invoked in certain circumstances; and therefore, in these circumstances, it is an error for a class to not have a default constructor:</p>
<ul>
<li>When an object value is declared with no argument list, e.g. <code>MyClass x;</code>; or allocated dynamically with no argument list, e.g. <code>new MyClass</code> or <code>new MyClass()</code>. The default constructor of <code>MyClass</code> is used to initialize the object.</li>
<li>When an array of objects is declared, e.g. <code>MyClass x[10];</code>; or allocated dynamically, e.g. <code>new MyClass [10]</code>. The default constructor of <code>MyClass</code> is used to initialize all the elements.</li>
<li>When a derived class constructor does not explicitly call the base class constructor in its initializer list, the default constructor for the base class is called.</li>
<li>When a class constructor does not explicitly call the constructor of one of its object-valued fields in its initializer list, the default constructor for the field's class is called.</li>
<li>In the standard library, certain containers "fill in" values using the default constructor when the value is not given explicitly. E.g. <code>vector&lt;MyClass&gt;(10);</code> initializes the vector with ten elements, which are filled with a default-constructed <code>MyClass&gt;</code> object.</li>
</ul>
<p>If a class has no explicitly defined constructors, the compiler will implicitly declare and define a default constructor for it. This implicitly defined default constructor is equivalent to a an explicitly defined one with an empty body. For example:<sup id="cite_ref-2" class="reference"><a href="#cite_note-2"><span>[</span>2<span>]</span></a></sup></p>
<p>WHATSON? d19fa425-a0e4-415f-a4b5-2f423c6ec3ad</p>
<pre class="de1">
<span class="kw2">class</span> MyClass
<span class="br0">{</span>
    <span class="kw4">int</span> x<span class="sy4">;</span>  <span class="co1">// no constructor, so the compiler produces an (implicit) default constructor</span>
<span class="br0">}</span><span class="sy4">;</span>
 
<span class="kw4">int</span> main<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    MyClass m<span class="sy4">;</span>   <span class="co1">// no error at runtime: the (implicit) default constructor is called</span>
<span class="br0">}</span>
</pre>
<p>If constructors are explicitly defined for a class, but they are all non-default, the compiler will not implicitly define a default constructor, leading to a situation where the class does not have a default constructor. This is the reason for a typical error, demonstrated by the following example.</p>
<p>WHATSON? 5a304260-0fa5-4de7-882a-dd8582b689e6</p>
<pre class="de1">
<span class="kw2">class</span> MyClass
<span class="br0">{</span>
<span class="kw2">public</span><span class="sy4">:</span>
    MyClass <span class="br0">(</span><span class="kw4">int</span> y<span class="br0">)</span><span class="sy4">;</span>  <span class="co1">// declaration a non-default constructor</span>
 
<span class="kw2">private</span><span class="sy4">:</span>
    <span class="kw4">int</span> x<span class="sy4">;</span>
<span class="br0">}</span><span class="sy4">;</span>
 
MyClass <span class="sy4">::</span> <span class="me2">MyClass</span> <span class="br0">(</span><span class="kw4">int</span> y<span class="br0">)</span>
<span class="br0">{</span>
    x <span class="sy1">=</span> y<span class="sy4">;</span>
<span class="br0">}</span>
 
<span class="kw4">int</span> main<span class="br0">(</span><span class="br0">)</span>
<span class="br0">{</span>
    MyClass m<span class="br0">(</span><span class="nu0">100</span><span class="br0">)</span><span class="sy4">;</span>     <span class="co1">// the non-default constructor is called</span>
    MyClass <span class="sy2">*</span> p<span class="sy4">;</span>        <span class="co1">// for pointer declarations, the compiler does not need to know about constructors</span>
    p <span class="sy1">=</span> <span class="kw3">new</span> MyClass<span class="br0">(</span><span class="br0">)</span><span class="sy4">;</span>  <span class="co1">// error at compilation: no default constructor</span>
    <span class="kw1">return</span> <span class="nu0">0</span><span class="sy4">;</span>
<span class="br0">}</span>
</pre>
<p>Since neither the programmer nor the compiler has defined a default constructor, the creation of the objected pointed to by <code>p</code> leads to an error.<sup id="cite_ref-3" class="reference"><a href="#cite_note-3"><span>[</span>3<span>]</span></a></sup></p>
<h2><span class="mw-headline" id="Java_and_C.23">Java and C#</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Default_constructor&amp;action=edit&amp;section=2" title="Edit section: Java and C#">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>In both <a href="/wiki/Java_(programming_language)" title="Java (programming language)">Java</a> and <a href="/wiki/C_Sharp_(programming_language)" title="C Sharp (programming language)">C#</a>, a "default constructor" refers to a <a href="/wiki/Nullary_constructor" title="Nullary constructor">nullary constructor</a> that is automatically generated by the compiler if no constructors have been defined for the class. The default constructor is also empty, meaning that it does nothing. A programmer-defined constructor that takes no parameters is also called a default constructor.<sup id="cite_ref-4" class="reference"><a href="#cite_note-4"><span>[</span>4<span>]</span></a></sup><sup id="cite_ref-5" class="reference"><a href="#cite_note-5"><span>[</span>5<span>]</span></a></sup></p>
<h2><span class="mw-headline" id="References">References</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Default_constructor&amp;action=edit&amp;section=3" title="Edit section: References">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><b><a href="#cite_ref-1">^</a></b></span> <span class="reference-text">C++ standard, ISO/IEC 14882:1998, 12.1.5<br>
C++ standard, ISO/IEC 14882:2003, 12.1.5</span></li>
<li id="cite_note-2"><span class="mw-cite-backlink"><b><a href="#cite_ref-2">^</a></b></span> <span class="reference-text">Computer Science A Structured Approach Using C++ by Behrouz A. Forouzan and Richard F. Gilberg</span></li>
<li id="cite_note-3"><span class="mw-cite-backlink"><b><a href="#cite_ref-3">^</a></b></span> <span class="reference-text">Computer Science A Structured Approach Using C++ by Behrouz A. Forouzan and Richard F. Gilberg</span></li>
<li id="cite_note-4"><span class="mw-cite-backlink"><b><a href="#cite_ref-4">^</a></b></span> <span class="reference-text"><a rel="nofollow" class="external text" href="http://java.sun.com/docs/books/jls/third_edition/html/classes.html#8.8.9">Java Language Specification, 3rd edition, section 8.8.9</a>, "Default Constructor".</span></li>
<li id="cite_note-5"><span class="mw-cite-backlink"><b><a href="#cite_ref-5">^</a></b></span> <span class="reference-text"><a rel="nofollow" class="external text" href="http://msdn.microsoft.com/en-us/library/ms173115(v=vs.80).aspx#MSDN">Using Constructors (C# Programming Guide)</a></span></li>
</ol>
