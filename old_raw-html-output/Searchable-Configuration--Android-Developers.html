<h1 itemprop="name">Searchable Configuration</h1>
<h2>See also</h2>
<ol>
  <li><a href="search-dialog.html">Creating a Search Interface</a></li>
  <li><a href="adding-recent-query-suggestions.html">Adding Recent Query Suggestions</a></li>
  <li><a href="adding-custom-suggestions.html">Adding Custom Suggestions</a></li>
</ol>
<p>In order to implement search with assistance from the Android system (to deliver search queries
to an activity and provide search suggestions), your application must provide a search configuration
in the form of an XML file.</p>
<p>This page describes the search configuration file in terms of its syntax and usage. For more
information about how to implement search features for your application, begin with the developer
guide about <a href="search-dialog.html">Creating a Search Interface</a>.</p>
<p>WHATSON? a0dd2571-25f3-4ad6-9379-77eb97d95c07</p>
<pre class="stx">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;<a href="#searchable-element">searchable</a> xmlns:android="http://schemas.android.com/apk/res/android"
    android:label="<em>string resource</em>"
    android:hint="<em>string resource</em>"
    android:searchMode=["queryRewriteFromData" | "queryRewriteFromText"]
    android:searchButtonText="<em>string resource</em>"
    android:inputType="<em><code><a href="/reference/android/R.attr.html#inputType">inputType</a></code></em>"
    android:imeOptions="<em><code><a href="/reference/android/R.attr.html#imeOptions">imeOptions</a></code></em>"
    android:searchSuggestAuthority="<em>string</em>"
    android:searchSuggestPath="<em>string</em>"
    android:searchSuggestSelection="<em>string</em>"
    android:searchSuggestIntentAction="<em>string</em>"
    android:searchSuggestIntentData="<em>string</em>"
    android:searchSuggestThreshold="<em>int</em>"
    android:includeInGlobalSearch=["true" | "false"]
    android:searchSettingsDescription="<em>string resource</em>"
    android:queryAfterZeroResults=["true" | "false"]
    android:voiceSearchMode=["showVoiceSearchButton" | "launchWebSearch" | "launchRecognizer"]
    android:voiceLanguageModel=["free-form" | "web_search"]
    android:voicePromptText="<em>string resource</em>"
    android:voiceLanguage="<em>string</em>"
    android:voiceMaxResults="<em>int</em>"
    &gt;
    &lt;<a href="#actionkey-element">actionkey</a>
        android:keycode="<em><code><a href="/reference/android/view/KeyEvent.html">KEYCODE</a></code></em>"
        android:queryActionMsg="<em>string</em>"
        android:suggestActionMsg="<em>string</em>"
        android:suggestActionMsgColumn="<em>string</em>" &gt;
&lt;/searchable&gt;
</pre>
<p class="caps">attributes:</p>
<p>For more information, see the discussion about rewriting the query text in <a href="adding-custom-suggestions.html#RewritingQueryText">Adding Custom Suggestions</a>.</p>
<h4>Search suggestion attributes</h4>
<p>If you have defined a content provider to generate search suggestions, you need to
    define additional attributes that configure communications with the content
    provider. When providing search suggestions, you need some of the following
    <code>&lt;searchable&gt;</code> attributes:</p>
<p>For more information about the above attributes for search suggestions, see the guides for
    <a href="adding-recent-query-suggestions.html">Adding Recent Query Suggestions</a> and
    <a href="adding-custom-suggestions.html">Adding Custom Suggestions</a>.</p>
<h4>Quick Search Box attributes</h4>
<p>To make your custom search suggestions available to Quick Search Box, you need some of the
    following <code>&lt;searchable&gt;</code> attributes:</p>
<h4>Voice search attributes</h4>
<p>To enable voice search, you'll need some of the
    following <code>&lt;searchable&gt;</code> attributes:</p>
<p>Also see 
          <code><a href="/reference/android/speech/RecognizerIntent.html#EXTRA_LANGUAGE_MODEL">EXTRA_LANGUAGE_MODEL</a></code> for more
          information.</p>
<p>Not all action keys are available on every device, and not
all keys are allowed to be overriden in this way. For example, the "Home" key cannot be used and
must always return to the home screen. Also be sure not to define an action
key for a key that's needed for typing a search query. This essentially limits the
available and reasonable action keys to the call button and menu button. Also note that action
keys are not generally discoverable, so you should not provide them as a core user feature.</p>
<p>You must define the <code>android:keycode</code> to define the key and at least one of the
other three attributes in order to define the search action.</p>
<p class="caps">attributes:</p>
<p>First, you must define a column in your
content provider for each suggestion to provide an action message, then provide the name of that
column in this attribute. The system looks at your suggestion cursor,
        using the string provided here to select your action message column, and
        then select the action message string from the Cursor. That string is added to the
        intent that the system passes to your searchable activity (using the action you've
defined for suggestions). To examine the string, use <code><a href="/reference/android/content/Intent.html#getStringExtra(java.lang.String)">getStringExtra(SearchManager.ACTION_MSG)</a></code>. If the data
does not exist for the selected suggestion, the action key is ignored.</p>
<p>WHATSON? 315d3124-aa75-4b44-972f-229b25fdbdfb</p>
<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;searchable xmlns:android="http://schemas.android.com/apk/res/android"
    android:label="@string/search_label"
    android:hint="@string/search_hint"
    android:searchSuggestAuthority="dictionary"
    android:searchSuggestIntentAction="android.intent.action.VIEW"
    android:includeInGlobalSearch="true"
    android:searchSettingsDescription="@string/settings_description" &gt;
&lt;/searchable&gt;
</pre>
<h1 itemprop="name">Searchable Configuration</h1>
<h2>See also</h2>
<ol>
  <li><a href="search-dialog.html">Creating a Search Interface</a></li>
  <li><a href="adding-recent-query-suggestions.html">Adding Recent Query Suggestions</a></li>
  <li><a href="adding-custom-suggestions.html">Adding Custom Suggestions</a></li>
</ol>
<p>In order to implement search with assistance from the Android system (to deliver search queries
to an activity and provide search suggestions), your application must provide a search configuration
in the form of an XML file.</p>
<p>This page describes the search configuration file in terms of its syntax and usage. For more
information about how to implement search features for your application, begin with the developer
guide about <a href="search-dialog.html">Creating a Search Interface</a>.</p>
<p>WHATSON? a80fffdd-0406-41f0-a467-a4d60633d1bb</p>
<pre class="stx">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;<a href="#searchable-element">searchable</a> xmlns:android="http://schemas.android.com/apk/res/android"
    android:label="<em>string resource</em>"
    android:hint="<em>string resource</em>"
    android:searchMode=["queryRewriteFromData" | "queryRewriteFromText"]
    android:searchButtonText="<em>string resource</em>"
    android:inputType="<em><code><a href="/reference/android/R.attr.html#inputType">inputType</a></code></em>"
    android:imeOptions="<em><code><a href="/reference/android/R.attr.html#imeOptions">imeOptions</a></code></em>"
    android:searchSuggestAuthority="<em>string</em>"
    android:searchSuggestPath="<em>string</em>"
    android:searchSuggestSelection="<em>string</em>"
    android:searchSuggestIntentAction="<em>string</em>"
    android:searchSuggestIntentData="<em>string</em>"
    android:searchSuggestThreshold="<em>int</em>"
    android:includeInGlobalSearch=["true" | "false"]
    android:searchSettingsDescription="<em>string resource</em>"
    android:queryAfterZeroResults=["true" | "false"]
    android:voiceSearchMode=["showVoiceSearchButton" | "launchWebSearch" | "launchRecognizer"]
    android:voiceLanguageModel=["free-form" | "web_search"]
    android:voicePromptText="<em>string resource</em>"
    android:voiceLanguage="<em>string</em>"
    android:voiceMaxResults="<em>int</em>"
    &gt;
    &lt;<a href="#actionkey-element">actionkey</a>
        android:keycode="<em><code><a href="/reference/android/view/KeyEvent.html">KEYCODE</a></code></em>"
        android:queryActionMsg="<em>string</em>"
        android:suggestActionMsg="<em>string</em>"
        android:suggestActionMsgColumn="<em>string</em>" &gt;
&lt;/searchable&gt;
</pre>
<p class="caps">attributes:</p>
<p>For more information, see the discussion about rewriting the query text in <a href="adding-custom-suggestions.html#RewritingQueryText">Adding Custom Suggestions</a>.</p>
<h4>Search suggestion attributes</h4>
<p>If you have defined a content provider to generate search suggestions, you need to
    define additional attributes that configure communications with the content
    provider. When providing search suggestions, you need some of the following
    <code>&lt;searchable&gt;</code> attributes:</p>
<p>For more information about the above attributes for search suggestions, see the guides for
    <a href="adding-recent-query-suggestions.html">Adding Recent Query Suggestions</a> and
    <a href="adding-custom-suggestions.html">Adding Custom Suggestions</a>.</p>
<h4>Quick Search Box attributes</h4>
<p>To make your custom search suggestions available to Quick Search Box, you need some of the
    following <code>&lt;searchable&gt;</code> attributes:</p>
<h4>Voice search attributes</h4>
<p>To enable voice search, you'll need some of the
    following <code>&lt;searchable&gt;</code> attributes:</p>
<p>Also see 
          <code><a href="/reference/android/speech/RecognizerIntent.html#EXTRA_LANGUAGE_MODEL">EXTRA_LANGUAGE_MODEL</a></code> for more
          information.</p>
<p>Not all action keys are available on every device, and not
all keys are allowed to be overriden in this way. For example, the "Home" key cannot be used and
must always return to the home screen. Also be sure not to define an action
key for a key that's needed for typing a search query. This essentially limits the
available and reasonable action keys to the call button and menu button. Also note that action
keys are not generally discoverable, so you should not provide them as a core user feature.</p>
<p>You must define the <code>android:keycode</code> to define the key and at least one of the
other three attributes in order to define the search action.</p>
<p class="caps">attributes:</p>
<p>First, you must define a column in your
content provider for each suggestion to provide an action message, then provide the name of that
column in this attribute. The system looks at your suggestion cursor,
        using the string provided here to select your action message column, and
        then select the action message string from the Cursor. That string is added to the
        intent that the system passes to your searchable activity (using the action you've
defined for suggestions). To examine the string, use <code><a href="/reference/android/content/Intent.html#getStringExtra(java.lang.String)">getStringExtra(SearchManager.ACTION_MSG)</a></code>. If the data
does not exist for the selected suggestion, the action key is ignored.</p>
<p>WHATSON? 747a898b-9600-4ca9-958b-5ea5687b1661</p>
<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;searchable xmlns:android="http://schemas.android.com/apk/res/android"
    android:label="@string/search_label"
    android:hint="@string/search_hint"
    android:searchSuggestAuthority="dictionary"
    android:searchSuggestIntentAction="android.intent.action.VIEW"
    android:includeInGlobalSearch="true"
    android:searchSettingsDescription="@string/settings_description" &gt;
&lt;/searchable&gt;
</pre>
