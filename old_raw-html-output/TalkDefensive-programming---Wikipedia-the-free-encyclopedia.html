<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Talk:Defensive programming</span></h1>
<ul>
<li class="nv-view"><a href="/wiki/Template:WikiProject_Computing" title="Template:WikiProject Computing"><span title="View this template" style="">v</span></a></li>
<li class="nv-talk"><a href="/wiki/Template_talk:WikiProject_Computing" title="Template talk:WikiProject Computing"><span title="Discuss this template" style="">t</span></a></li>
<li class="nv-edit"><a class="external text" href="//en.wikipedia.org/w/index.php?title=Template:WikiProject_Computing&amp;action=edit"><span title="Edit this template" style="">e</span></a></li>
</ul>
<p></p>
<h2>Contents</h2>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Random_notes"><span class="tocnumber">1</span> <span class="toctext">Random notes</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#humm"><span class="tocnumber">2</span> <span class="toctext">humm</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Bug_Free"><span class="tocnumber">3</span> <span class="toctext">Bug Free</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#I_do_NOT_adhere_to_these_rules"><span class="tocnumber">4</span> <span class="toctext">I do NOT adhere to these rules</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Removed_section"><span class="tocnumber">5</span> <span class="toctext">Removed section</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Murphy.27s_Law"><span class="tocnumber">6</span> <span class="toctext">Murphy's Law</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#When_to_error_out"><span class="tocnumber">7</span> <span class="toctext">When to error out</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#memset.3F"><span class="tocnumber">8</span> <span class="toctext">memset?</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Vague_and_Off-track"><span class="tocnumber">9</span> <span class="toctext">Vague and Off-track</span></a></li>
</ul>
<p></p>
<h2><span class="mw-headline" id="Random_notes">Random notes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Talk:Defensive_programming&amp;action=edit&amp;section=1" title="Edit section: Random notes">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>...copied from article, "Please expand this article. These random notes should be changed to a more coherent article." <a href="/w/index.php?title=User:Badanedwa&amp;action=edit&amp;redlink=1" class="new" title="User:Badanedwa (page does not exist)">Badanedwa</a> 22:52, May 1, 2004 (UTC)</p>
<h2><span class="mw-headline" id="humm">humm</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Talk:Defensive_programming&amp;action=edit&amp;section=2" title="Edit section: humm">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>This article its somewhat obsolete-ish, and feel too unix oriented. Maybe sould be edited to leverage this unix oriented style, then adding nowdays-sche stuff. Ok, maybe I am wrong. What other people think about the quality of this article? --<a href="/wiki/User:Tei" title="User:Tei">Tei</a> 15:09, 19 July 2005 (UTC)</p>
<p>I agree that this article needs cleaned up. - <a href="/wiki/User:Aaron_Brenneman" title="User:Aaron Brenneman" class="mw-redirect"><font color="#2F4F4F">brenneman</font></a><a href="/wiki/User_talk:Aaron_Brenneman" title="User talk:Aaron Brenneman"><font color="#2F4F4F"><sup>(t)</sup></font></a><a href="/wiki/Special:Contributions/Aaron_Brenneman" title="Special:Contributions/Aaron Brenneman"><font color="#2F4F4F"><sup>(c)</sup></font></a> 05:24, 6 August 2005 (UTC)</p>
<h2><span class="mw-headline" id="Bug_Free">Bug Free</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Talk:Defensive_programming&amp;action=edit&amp;section=3" title="Edit section: Bug Free">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>How does <b>Defensive Programming</b> differ from <b>Standards of Good Software Development</b>? Now I have been a <a href="/wiki/Computer_programmer" title="Computer programmer" class="mw-redirect">computer programmer</a> for over 40 years and fully agree that there is an enormous volume of crud out there, as we can see with the volume of patches coming from major software suppliers to fix problems that should never have been there in the first place, but most everything I am seeing in this article is talking about standards that most every programmer should adhere to, with variations on how to implement them by actual <a href="/wiki/Computer_language" title="Computer language" class="mw-redirect">computer language</a>, but few do. <a href="/wiki/User:AlMac" title="User:AlMac">User:AlMac</a>|<a href="/wiki/User_talk:AlMac" title="User talk:AlMac"><sup>(talk)</sup></a> 18:11, 18 January 2006 (UTC)</p>
<h2><span class="mw-headline" id="I_do_NOT_adhere_to_these_rules">I do NOT adhere to these rules</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Talk:Defensive_programming&amp;action=edit&amp;section=4" title="Edit section: I do NOT adhere to these rules">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>I see defensive programming a method that can be used when it is reasonable to both expect and possible to counteract intentional and accidental misuse of the code. The problem is that it is easy to hide the problem without alerting anyone about it. I it a design choice among others. Another approach if defensive programming is not used is to let the application crash, or in some other less drastic way make the call invalid. In other words enforce the correct use of the piece of software in question.</p>
<p>The idea that defensive programming is good programming is wrong, but one way of designing the code. The question is how to define the term properly. <small><span class="autosigned">—Preceding <a href="/wiki/Wikipedia:Signatures" title="Wikipedia:Signatures">unsigned</a> comment added by <a href="/w/index.php?title=User:137.61.234.225&amp;action=edit&amp;redlink=1" class="new" title="User:137.61.234.225 (page does not exist)">137.61.234.225</a> (<a href="/wiki/User_talk:137.61.234.225" title="User talk:137.61.234.225">talk</a> • <a href="/wiki/Special:Contributions/137.61.234.225" title="Special:Contributions/137.61.234.225">contribs</a>)</span></small></p>
<h2><span class="mw-headline" id="Removed_section">Removed section</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Talk:Defensive_programming&amp;action=edit&amp;section=5" title="Edit section: Removed section">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>I've removed the "Other examples" section, introduced by <a href="/wiki/User:Beno1000" title="User:Beno1000">Beno1000</a> on 01:24, 29 September 2008 in <a class="external text" href="//en.wikipedia.org/w/index.php?title=Defensive_programming&amp;diff=prev&amp;oldid=241671621">this edit</a>, since, besides being rather awkwardly tacked onto the end of the article, it actually contains some factual errors. (In particular, <a href="/wiki/Division_by_zero" title="Division by zero">division by zero</a> does <i>not</i> normally produce <a href="/wiki/Buffer_overrun" title="Buffer overrun" class="mw-redirect">buffer overruns</a>.) In case someone wants to try making something usable out of it, here's the content of the section as it was when I removed it:</p>
<p>WHATSON? df754542-5539-44ea-8a4d-ccb361d05076</p>
<pre>
<i><b>If</b> inputted data is zero <b>then</b>
  display an error message saying "Cannot divide by zero"
<b>Else</b>
  Divide the inputted data by the number stored in the number buffer (variable)</i>
</pre>
<p>—<a href="/wiki/User:Ilmari_Karonen" title="User:Ilmari Karonen">Ilmari Karonen</a> <small>(<a href="/wiki/User_talk:Ilmari_Karonen" title="User talk:Ilmari Karonen">talk</a>)</small> 20:37, 3 October 2008 (UTC)</p>
<p><br></p>
<h2><span class="mw-headline" id="Murphy.27s_Law">Murphy's Law</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Talk:Defensive_programming&amp;action=edit&amp;section=6" title="Edit section: Murphy's Law">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Citing Murphy's Law as justification for defensive programming is ridiculous. It is not a physical law, it's a humourous observation on life. The case can be argued much better using terms like risk. <a href="/wiki/User:Nczempin" title="User:Nczempin">Nczempin</a> (<a href="/wiki/User_talk:Nczempin" title="User talk:Nczempin">talk</a>) 16:15, 21 October 2008 (UTC)</p>
<h2><span class="mw-headline" id="When_to_error_out">When to error out</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Talk:Defensive_programming&amp;action=edit&amp;section=7" title="Edit section: When to error out">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>I consider the function 'high_quality_programming' worse than 'low_quality_programming' which is very bad too. If the second function is called with a string longer that LENGTH characters, than it will SILENTLY truncate it. I assume here that the function is supposed to work on the complete string and not to just work on the first characters in case the string is too long. If it is allowed to pass a string longer than LENGTH, than the first function has random behavior and a crash somewhere else is hard to track down. The second function does the wrong thing and could have even more subtile changes in your program and with no crash or other symptom is most likely even harder to debug. A real defensive function would error out if it is called with arguments that it cannot handle. Initializing the target is also not necessary. It would be enough to make sure the result string is null terminated. strncpy also would be called with LENGTH+1 to make sure that the terminator is copied for strings of length LENGTH. The result of strncpy can be used to check if the string was null terminated. The function has to error out if truncating is not what the function is specified to do. <a href="/wiki/User:Sconden" title="User:Sconden">Sconden</a> (<a href="/w/index.php?title=User_talk:Sconden&amp;action=edit&amp;redlink=1" class="new" title="User talk:Sconden (page does not exist)">talk</a>) 20:28, 11 October 2010 (UTC)</p>
<h2><span class="mw-headline" id="memset.3F">memset?</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Talk:Defensive_programming&amp;action=edit&amp;section=8" title="Edit section: memset?">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>I don't mind the canon strcpy()/strncpy() example (though I think there are much less subtle examples of defensive programming), but does someone mind explaining to me the significance of the obfuscated memset() call versus a much clearer "str[999] = '\0'"? strncpy already pads with null, so memset() is not only vague and obfuscating, it's redundant. Honestly, I think the null bounding could be omitted entirely since it's irrelevant to the example's main point. <a href="/wiki/User:Jrajav" title="User:Jrajav">Jrajav</a> (<a href="/w/index.php?title=User_talk:Jrajav&amp;action=edit&amp;redlink=1" class="new" title="User talk:Jrajav (page does not exist)">talk</a>) 03:54, 13 December 2011 (UTC)</p>
<h2><span class="mw-headline" id="Vague_and_Off-track">Vague and Off-track</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Talk:Defensive_programming&amp;action=edit&amp;section=9" title="Edit section: Vague and Off-track">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>I just came across this article and have some significant problems with it. Though there are some good things about it, in general it is vague and even incorrect in places. Towards the end it just becomes a succession of rambling statements, mostly irrelevant.</p>
<p>Take the first paragraph -- what does "ensure the continuing function" mean exactly? How can you cater for "unforeseeable usage" since by definition you can't foresee it - "unexpected" would be a better word here. The mention of Murphy's Law makes me think that the rest of an article is actually a joke. Emotive words like "mischievously" and "catastrophic" are also inappropriate.</p>
<p>The next bit is even worse. The true definition of defensive programming is open to debate (see below) but it is definitely not about removing bugs (rather about lessening their effect), or making code comprehensible. (Also why mention readable and understandable after the word comprehensible - all three words means the same thing in this context. And what do "code audits" have to do with it?) The last sentence about "making the software behave predictably" is getting closer to the meaning but not really true. Also what is the difference between "inputs" and "user actions"?</p>
<p>The code example is a reasonable example of defensive programming. One confusing thing is why the buffer "str" is declared to be 1001 characters in the first snippet and only 1000 in the second. Also (as pointed out above) the memset is unnecessary since clearing the last byte is sufficient.</p>
<p>I think a simpler example would be a for loop. It also avoids the confusion between defensive programming and secure programming, since buffer overruns are a major aspect of secure programming but not so much in defensive programming.</p>
<p>However, my main problem with the article is that it does not describe the most commonly accepted definition of defensive programmming, which is simply code that recovers from unexpected situations. This can be useful in "secure programming" but more useful for that is input validation.</p>
<p>It also does not mention the problems with defensive programming which is that it tends to hide the presence of bugs. <span style="font-size: smaller;" class="autosigned">— Preceding <a href="/wiki/Wikipedia:Signatures" title="Wikipedia:Signatures">unsigned</a> comment added by <a href="/wiki/Special:Contributions/203.41.222.1" title="Special:Contributions/203.41.222.1">203.41.222.1</a> (<a href="/wiki/User_talk:203.41.222.1" title="User talk:203.41.222.1">talk</a>) 02:36, 27 March 2012 (UTC)</span></p>
