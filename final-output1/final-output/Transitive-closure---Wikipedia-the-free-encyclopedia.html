<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Transitive-closure---Wikipedia-the-free-encyclopedia.html</title></head>
<body>
<h1>Transitive closure</h1>
<p>In mathematics, the <b>transitive closure</b> of a binary relation <i>R</i> on a set <i>X</i> is the transitive relation <i>R</i> on set <i>X</i> such that <i>R</i> contains <i>R</i> and <i>R</i> is minimal (Lidl and Pilz 1998:337). If the binary relation itself is transitive, then the transitive closure is that same binary relation; otherwise, the transitive closure is a different relation. For example, if <i>X</i> is a set of airports and <i>x R y</i> means "there is a direct flight from airport <i>x</i> to airport <i>y</i>", then the transitive closure of <i>R</i> on <i>X</i> is the relation <i>R</i>: "it is possible to fly from <i>x</i> to <i>y</i> in one or more flights."</p>
<p></p>
<h2>Contents</h2>
<ul>
<li>1 Transitive relations and examples</li>
<li>2 Existence and description</li>
<li>3 Properties</li>
<li>4 In graph theory</li>
<li>5 In logic and computational complexity</li>
<li>6 In database query languages</li>
<li>7 Algorithms</li>
<li>8 See also</li>
<li>9 References</li>
<li>10 External links</li>
</ul>
<p></p>
<h2>Transitive relations and examples</h2>
<p>A relation <i>R</i> on a set <i>X</i> is transitive if, for all <i>x</i>,<i>y</i>,<i>z</i> in <i>X</i>, whenever <i>x R y</i> and <i>y R z</i> then <i>x R z</i>. Examples of transitive relations include the equality relation on any set, the "less than or equal" relation on any linearly ordered set, and the relation "<i>x</i> was born before <i>y</i>" on the set of all people. Symbolically, this can be denoted as: if <i>x</i> &lt; <i>y</i> and <i>y</i> &lt; <i>z</i> then <i>x</i> &lt; <i>z</i>.</p>
<p>One example of a non-transitive relation is "city <i>x</i> can be reached via a direct flight from city <i>y</i>" on the set of all cities. Simply because there is a direct flight from one city to a second city, and a direct flight from the second city to the third, does not imply there is a direct flight from the first city to the third. The transitive closure of this relation is a different relation, namely "there is a sequence of direct flights that begins at city <i>x</i> and ends at city <i>y</i>". Every relation can be extended in a similar way to a transitive relation.</p>
<h2>Existence and description</h2>
<p>For any relation <i>R</i>, the transitive closure of <i>R</i> always exists. To see this, note that the intersection of any family of transitive relations is again transitive. Furthermore, there exists at least one transitive relation containing <i>R</i>, namely the trivial one: <i>X</i> × <i>X</i>. The transitive closure of <i>R</i> is then given by the intersection of all transitive relations containing <i>R</i>.</p>
<p>For finite sets, we can construct the transitive closure step by step, starting from <i>R</i> and adding transitive edges. This gives the intuition for a general construction. For any set <i>X</i>, we can prove that transitive closure is given by the following expression</p>
<p>where <img class="mwe-math-fallback-image-inline tex" alt="R^i" src="//upload.wikimedia.org/math/9/1/5/915109e97d42cfc027884c0264ebe75a.png"> is the <i>i</i>-th power of <i>R</i>, defined inductively by</p>
<p>and, for <img class="mwe-math-fallback-image-inline tex" alt="i&gt;0" src="//upload.wikimedia.org/math/5/6/3/563d880e1c878d80bb57b029b4c56166.png">,</p>
<p>where <img class="mwe-math-fallback-image-inline tex" alt="\circ" src="//upload.wikimedia.org/math/1/0/c/10c3e97d2a3eda0d182b81d48f231b62.png"> denotes composition of relations.</p>
<p>To show that the above definition of <i>R</i> is the least transitive relation containing <i>R</i>, we show that it contains <i>R</i>, that it is transitive, and that it is the smallest set with both of those characteristics.</p>
<ul>
<li><img class="mwe-math-fallback-image-inline tex" alt="R \subseteq R^{+}" src="//upload.wikimedia.org/math/5/3/2/5325be8f6c594fc7d3c827653c555f29.png">: <img class="mwe-math-fallback-image-inline tex" alt="\displaystyle R^+" src="//upload.wikimedia.org/math/7/4/9/7494b2af5b3f8e3d50caf68ef812913c.png"> contains all of the <img class="mwe-math-fallback-image-inline tex" alt="\displaystyle R^i" src="//upload.wikimedia.org/math/8/5/2/8523758edae502575e511682bf71d89d.png">, so in particular <img class="mwe-math-fallback-image-inline tex" alt="\displaystyle R^+" src="//upload.wikimedia.org/math/7/4/9/7494b2af5b3f8e3d50caf68ef812913c.png"> contains <img class="mwe-math-fallback-image-inline tex" alt="\displaystyle R" src="//upload.wikimedia.org/math/6/1/5/615763c86ad292bde6fbca8f7d1cf15a.png">.</li>
<li><img class="mwe-math-fallback-image-inline tex" alt="\displaystyle R^{+}" src="//upload.wikimedia.org/math/9/a/4/9a4f8aa9ecc361fa73f2d4a653bd11da.png"> is transitive: every element of <img class="mwe-math-fallback-image-inline tex" alt="\displaystyle R^+" src="//upload.wikimedia.org/math/7/4/9/7494b2af5b3f8e3d50caf68ef812913c.png"> is in one of the <img class="mwe-math-fallback-image-inline tex" alt="\displaystyle R^i" src="//upload.wikimedia.org/math/8/5/2/8523758edae502575e511682bf71d89d.png">, so <img class="mwe-math-fallback-image-inline tex" alt="\displaystyle R^+" src="//upload.wikimedia.org/math/7/4/9/7494b2af5b3f8e3d50caf68ef812913c.png"> must be transitive by the following reasoning: if <img class="mwe-math-fallback-image-inline tex" alt="(s_1, s_2)\in R^j" src="//upload.wikimedia.org/math/4/8/e/48e088f137cce7433d28170cb1ba19ea.png"> and <img class="mwe-math-fallback-image-inline tex" alt="(s_2, s_3)\in R^k" src="//upload.wikimedia.org/math/b/9/6/b96404d78e327e09517b3a0ee0e3107e.png">, then from composition's associativity, <img class="mwe-math-fallback-image-inline tex" alt="(s_1, s_3)\in R^{j+k}" src="//upload.wikimedia.org/math/b/5/6/b56b04527b07be8da7b0601e3626ad6f.png"> (and thus in <img class="mwe-math-fallback-image-inline tex" alt="\displaystyle R^+" src="//upload.wikimedia.org/math/7/4/9/7494b2af5b3f8e3d50caf68ef812913c.png">) because of the definition of <img class="mwe-math-fallback-image-inline tex" alt="\displaystyle R^i" src="//upload.wikimedia.org/math/8/5/2/8523758edae502575e511682bf71d89d.png">.</li>
<li><img class="mwe-math-fallback-image-inline tex" alt="\displaystyle R^{+}" src="//upload.wikimedia.org/math/9/a/4/9a4f8aa9ecc361fa73f2d4a653bd11da.png"> is minimal: Let <img class="mwe-math-fallback-image-inline tex" alt="\displaystyle G" src="//upload.wikimedia.org/math/5/c/7/5c7bd8216879c7fc6ad911727df93de8.png"> be any transitive relation containing <img class="mwe-math-fallback-image-inline tex" alt="\displaystyle R" src="//upload.wikimedia.org/math/6/1/5/615763c86ad292bde6fbca8f7d1cf15a.png">, we want to show that <img class="mwe-math-fallback-image-inline tex" alt="R^{+} \subseteq G" src="//upload.wikimedia.org/math/8/2/7/8279ccb0fed4a1f4808feb16ca2d1cab.png">. It is sufficient to show that for every <img class="mwe-math-fallback-image-inline tex" alt="i&gt;0" src="//upload.wikimedia.org/math/5/6/3/563d880e1c878d80bb57b029b4c56166.png">, <img class="mwe-math-fallback-image-inline tex" alt="R^i\subseteq G" src="//upload.wikimedia.org/math/1/a/3/1a3c641f3e4d5e1e64479fea2a8ce78a.png">. Well, since <img class="mwe-math-fallback-image-inline tex" alt="\displaystyle G" src="//upload.wikimedia.org/math/5/c/7/5c7bd8216879c7fc6ad911727df93de8.png"> contains <img class="mwe-math-fallback-image-inline tex" alt="\displaystyle R" src="//upload.wikimedia.org/math/6/1/5/615763c86ad292bde6fbca8f7d1cf15a.png">, <img class="mwe-math-fallback-image-inline tex" alt="R^1\subseteq G" src="//upload.wikimedia.org/math/9/c/4/9c4c1078f75cfe4c0cf50c353f57db00.png">. And since <img class="mwe-math-fallback-image-inline tex" alt="\displaystyle G" src="//upload.wikimedia.org/math/5/c/7/5c7bd8216879c7fc6ad911727df93de8.png"> is transitive, whenever <img class="mwe-math-fallback-image-inline tex" alt="R^i\subseteq G" src="//upload.wikimedia.org/math/1/a/3/1a3c641f3e4d5e1e64479fea2a8ce78a.png">, <img class="mwe-math-fallback-image-inline tex" alt="R^{i+1}\subseteq G" src="//upload.wikimedia.org/math/c/7/9/c791e865213138dd61a5604537d6ebd1.png"> according to the construction of <img class="mwe-math-fallback-image-inline tex" alt="R^i\,\!" src="//upload.wikimedia.org/math/f/b/b/fbbc93cc3ea5e99884fdbabaafeffe39.png"> and what it means to be transitive. Therefore, by induction, <img class="mwe-math-fallback-image-inline tex" alt="\displaystyle G" src="//upload.wikimedia.org/math/5/c/7/5c7bd8216879c7fc6ad911727df93de8.png"> contains every <img class="mwe-math-fallback-image-inline tex" alt="R^i\,\!" src="//upload.wikimedia.org/math/f/b/b/fbbc93cc3ea5e99884fdbabaafeffe39.png">, and thus also <img class="mwe-math-fallback-image-inline tex" alt="\displaystyle R^+" src="//upload.wikimedia.org/math/7/4/9/7494b2af5b3f8e3d50caf68ef812913c.png">.</li>
</ul>
<h2>Properties</h2>
<p>The intersection of two transitive relations is transitive.</p>
<p>The union of two transitive relations need not be transitive. To preserve transitivity, one must take the transitive closure. This occurs, for example, when taking the union of two equivalence relations or two preorders. To obtain a new equivalence relation or preorder one must take the transitive closure (reflexivity and symmetry—in the case of equivalence relations—are automatic).</p>
<h2>In graph theory</h2>
<p>In computer science, the concept of transitive closure can be thought of as constructing a data structure that makes it possible to answer reachability questions. That is, can one get from node <i>a</i> to node <i>d</i> in one or more hops? A binary relation tells you only that node a is connected to node <i>b</i>, and that node <i>b</i> is connected to node <i>c</i>, etc. After the transitive closure is constructed, as depicted in the following figure, in an O(1) operation one may determine that node <i>d</i> is reachable from node <i>a</i>. The data structure is typically stored as a matrix, so if matrix[1][4] = 1, then it is the case that node 1 can reach node 4 through one or more hops.</p>
<p>The transitive closure of a directed acyclic graph (DAG) is the reachability relation of the DAG and a strict partial order.</p>
<h2>In logic and computational complexity</h2>
<p>The transitive closure of a binary relation cannot, in general, be expressed in first-order logic (FO). This means that one cannot write a formula using predicate symbols <i>R</i> and <i>T</i> that will be satisfied in any model if and only if <i>T</i> is the transitive closure of <i>R</i>. In finite model theory, first-order logic (FO) extended with a transitive closure operator is usually called <b>transitive closure logic</b>, and abbreviated FO(TC) or just TC. TC is a sub-type of fixpoint logics. The fact that FO(TC) is strictly more expressive than FO was discovered by Ronald Fagin in 1974; the result was then rediscovered by Alfred Aho and Jeffrey Ullman in 1979, who proposed to use fixpoint logic as a database query language (Libkin 2004:vii). With more recent concepts of finite model theory, proof that FO(TC) is strictly more expressive than FO follows immediately from the fact that FO(TC) is not Gaifman-local (Libkin 2004:49).</p>
<p>In computational complexity theory, the complexity class NL corresponds precisely to the set of logical sentences expressible in TC. This is because the transitive closure property has a close relationship with the NL-complete problem STCON for finding directed paths in a graph. Similarly, the class L is first-order logic with the commutative, transitive closure. When transitive closure is added to second-order logic instead, we obtain PSPACE.</p>
<h2>In database query languages</h2>
<p>Since the 1980s Oracle Database has implemented a proprietary SQL extension CONNECT BY... START WITH that allows the computation of a transitive closure as part of a declarative query. The SQL 3 (1999) standard added a more general WITH RECURSIVE construct also allowing transitive closures to be computed inside the query processor; as of 2011 the latter is implemented in IBM DB2, Microsoft SQL Server, and PostgreSQL, although not in MySQL (Benedikt and Senellart 2011:189).</p>
<p>Datalog also implements transitive closure computations (Silberschatz et al. 2010:C.3.6).</p>
<h2>Algorithms</h2>
<p>Efficient algorithms for computing the transitive closure of a graph can be found in Nuutila (1995). The simplest technique is probably the Floyd–Warshall algorithm. The fastest worst-case methods, which are not practical, reduce the problem to matrix multiplication.</p>
<p>More recent research has explored efficient ways of computing transitive closure on distributed systems based on the MapReduce paradigm (Afrati et al. 2011).</p>
<h2>See also</h2>
<ul>
<li>Deductive closure</li>
<li>Transitive reduction (a smallest relation having the transitive closure of <i>R</i> as its transitive closure)</li>
<li>Symmetric closure</li>
<li>Reflexive closure</li>
<li>Ancestral relation</li>
</ul>
</body>
</html>