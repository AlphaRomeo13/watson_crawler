<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Metaphone---Wikipedia-the-free-encyclopedia.html</title></head>
<body>
<h1>Metaphone</h1>
<p><b>Metaphone</b> is a phonetic algorithm, published by Lawrence Philips in 1990, for indexing words by their English pronunciation. It fundamentally improves on the Soundex algorithm by using information about variations and inconsistencies in English spelling and pronunciation to produce a more accurate encoding, which does a better job of matching words and names which sound similar. As with Soundex, similar sounding words should share the same keys. Metaphone is available as a built-in operator in a number of systems, including later versions of PHP.</p>
<p>The original author later produced a new version of the algorithm, which he named Double Metaphone. Contrary to the original algorithm whose application is limited to English only, this version takes into account spelling peculiarities of a number of other languages. In 2009 Lawrence Philips released a third version, called Metaphone 3, which achieves an accuracy of approximately 99% for English words, non-English words familiar to Americans, and first names and family names commonly found in the United States, having been developed according to modern engineering standards against a test harness of prepared correct encodings.</p>
<p></p>
<h2>Contents</h2>
<ul>
<li>1 Procedure</li>
<li>2 Double Metaphone </li>
<li>3 Metaphone 3</li>
<li>4 Common misconceptions</li>
<li>5 See also</li>
<li>6 External links
<ul>
<li>6.1 Metaphone Algorithms For Other Languages</li>
</ul>
</li>
<li>7 References</li>
</ul>
<ul>
<li>6.1 Metaphone Algorithms For Other Languages</li>
</ul>
<p></p>
<h2>Procedure</h2>
<p>Original Metaphone codes use the 16 consonant symbols 0BFHJKLMNPRSTWXY. The '0' represents "th" (as an ASCII approximation of Θ), 'X' represents "sh" or "ch", and the others represent their usual English pronunciations. The vowels AEIOU are also used, but only at the beginning of the code. This table summarizes most of the rules in the original implementation:</p>
<ol>
<li>Drop duplicate adjacent letters, except for C.</li>
<li>If the word begins with 'KN', 'GN', 'PN', 'AE', 'WR', drop the first letter.</li>
<li>Drop 'B' if after 'M' at the end of the word.</li>
<li>'C' transforms to 'X' if followed by 'IA' or 'H' (unless in latter case, it is part of '-SCH-', in which case it transforms to 'K'). 'C' transforms to 'S' if followed by 'I', 'E', or 'Y'. Otherwise, 'C' transforms to 'K'.</li>
<li>'D' transforms to 'J' if followed by 'GE', 'GY', or 'GI'. Otherwise, 'D' transforms to 'T'.</li>
<li>Drop 'G' if followed by 'H' and 'H' is not at the end or before a vowel. Drop 'G' if followed by 'N' or 'NED' and is at the end.</li>
<li>'G' transforms to 'J' if before 'I', 'E', or 'Y', and it is not in 'GG'. Otherwise, 'G' transforms to 'K'.</li>
<li>Drop 'H' if after vowel and not before a vowel.</li>
<li>'CK' transforms to 'K'.</li>
<li>'PH' transforms to 'F'.</li>
<li>'Q' transforms to 'K'.</li>
<li>'S' transforms to 'X' if followed by 'H', 'IO', or 'IA'.</li>
<li>'T' transforms to 'X' if followed by 'IA' or 'IO'. 'TH' transforms to '0'. Drop 'T' if followed by 'CH'.</li>
<li>'V' transforms to 'F'.</li>
<li>'WH' transforms to 'W' if at the beginning. Drop 'W' if not followed by a vowel.</li>
<li>'X' transforms to 'S' if at the beginning. Otherwise, 'X' transforms to 'KS'.</li>
<li>Drop 'Y' if not followed by a vowel.</li>
<li>'Z' transforms to 'S'.</li>
<li>Drop all vowels unless it is the beginning.</li>
</ol>
<p>It should be noted, however, that this table does not constitute a complete description of the original Metaphone algorithm, and the algorithm cannot be coded correctly from it. Original Metaphone contained many errors and was superseded by Double Metaphone, and in turn Double Metaphone and original Metaphone were superseded by Metaphone 3, which corrects thousands of miscodings that will be produced by the first two versions.</p>
<p>To implement Metaphone without purchasing a (source code) copy of Metaphone 3, the best guide would be the reference implementation of Double Metaphone, which may be found here.</p>
<h2>Double Metaphone </h2>
<p>The <b>Double Metaphone</b> phonetic encoding algorithm is the second generation of this algorithm. Its implementation was described in the June 2000 issue of <i>C/C++ Users Journal</i>. It makes a number of fundamental design improvements over the original Metaphone algorithm.</p>
<p>It is called "Double" because it can return both a primary and a secondary code for a string; this accounts for some ambiguous cases as well as for multiple variants of surnames with common ancestry. For example, encoding the name "Smith" yields a primary code of <i>SM0</i> and a secondary code of <i>XMT</i>, while the name "Schmidt" yields a primary code of <i>XMT</i> and a secondary code of <i>SMT</i>—both have <i>XMT</i> in common.</p>
<p>Double Metaphone tries to account for myriad irregularities in English of Slavic, Germanic, Celtic, Greek, French, Italian, Spanish, Chinese, and other origin. Thus it uses a much more complex ruleset for coding than its predecessor; for example, it tests for approximately 100 different contexts of the use of the letter C alone.</p>
<h2>Metaphone 3</h2>
<p>A professional version was released in October 2009, developed by the same author, Lawrence Philips. It is a commercial product but is sold as source code. Metaphone 3 further improves phonetic encoding of words in the English language, non-English words familiar to Americans, and first names and family names commonly found in the United States. It improves encoding for proper names in particular to a considerable extent. The author claims that in general it improves accuracy for all words from the approximately 89% of Double Metaphone to 98%. Developers can also now set switches in to code to cause the algorithm to encode Metaphone keys 1) taking non-initial vowels into account, as well as 2) encoding voiced and unvoiced consonants differently. This allows the result set to be more closely focused if the developer finds that the search results include too many words that don't resemble the search term closely enough. Metaphone 3 is sold as C++, Java, C#, PHP, Perl, and PL/SQL source, as well as Metaphone 3 for Spanish and German available as Java source.</p>
<h2>Common misconceptions</h2>
<p>There are a couple of misconceptions about the Metaphone algorithms that should be addressed:</p>
<ol>
<li>All of them are designed to address regular, "dictionary" words, not just names, and</li>
<li>Metaphone algorithms do <b>not</b> produce phonetic representations of the input words and names; rather, the output is an intentionally <b>approximate</b> phonetic representation, according to this standard:</li>
</ol>
<ul>
<li>words that start with a vowel sound will have an 'A', representing any vowel, as the first character of the encoding (in Double Metaphone and Metaphone 3 - original Metaphone just preserves the actual vowel),</li>
<li>vowels after an initial vowel sound will be disregarded and not encoded, and</li>
<li>voiced/unvoiced consonant pairs will be mapped to the same encoding. (Examples of voiced/unvoiced consonant pairs are D/T, B/P, Z/S, G/K, etc.).</li>
</ul>
<p>This approximate encoding is necessary to account for the way English speakers vary their pronunciations and misspell or otherwise vary words and names they are trying to spell. Vowels, of course, are notoriously highly variable. British speakers often complain that Americans seem to pronounce 'T's the same as 'D'. Consider, also, that all English speakers often pronounce 'Z' where 'S' is spelled, almost always when a noun ending in a voiced consonant or a liquid is pluralized, for example "seasons", "beams", "examples", etc. Not encoding vowels after an initial vowel sound will help to group words where a vowel and a consonant may be transposed in the misspelling or alternative pronunciation.</p>
<h2>See also</h2>
<ul>
<li>Caverphone</li>
<li>Soundex</li>
<li>New York State Identification and Intelligence System</li>
<li>Match Rating Approach</li>
</ul>
<h2>External links</h2>
<ul>
<li>Another explanation of the algorithm</li>
<li>Project to write a formal definition of the algorithm</li>
<li>"The Double Metaphone Search Algorithm", <i>C/C++ Users Journal</i>, June 2000 (full-text access requires registration)</li>
<li>The Double Metaphone Search Algorithm, By Lawrence Phillips, June 1, 2000, Dr Dobb's, <i>Original article</i></li>
</ul>
<h3>Metaphone Algorithms For Other Languages</h3>
<ul>
<li>Brazilian Portuguese in C Metaphone for Brazilian Portuguese, in C with PHP and PostgreSQL port.</li>
<li>Spanish Metaphone in Python</li>
<li>Double Metaphone algorithm for Bangla</li>
<li>Double Metaphone algorithm for Amharic</li>
<li>Russian Metaphone in Ruby. Implemented by CleverUA</li>
<li>Metaphone 3 for Spanish and German</li>
</ul>
</body>
</html>