<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Liskov substitution principle</span></h1>
<ul>
<li><a href="/wiki/Single_responsibility_principle" title="Single responsibility principle">Single responsibility</a></li>
<li><a href="/wiki/Open/closed_principle" title="Open/closed principle">Open/closed</a></li>
<li><strong class="selflink">Liskov substitution</strong></li>
<li><a href="/wiki/Interface_segregation_principle" title="Interface segregation principle">Interface segregation</a></li>
<li><a href="/wiki/Dependency_inversion_principle" title="Dependency inversion principle">Dependency inversion</a></li>
</ul>
<ul>
<li class="nv-view"><a href="/wiki/Template:Solid_principles" title="Template:Solid principles"><span title="View this template" style=";">v</span></a></li>
<li class="nv-talk"><a href="/w/index.php?title=Template_talk:Solid_principles&amp;action=edit&amp;redlink=1" class="new" title="Template talk:Solid principles (page does not exist)"><span title="Discuss this template" style=";">t</span></a></li>
<li class="nv-edit"><a class="external text" href="//en.wikipedia.org/w/index.php?title=Template:Solid_principles&amp;action=edit"><span title="Edit this template" style=";">e</span></a></li>
</ul>
<p><b>Substitutability</b> is a principle in <a href="/wiki/Object-oriented_programming" title="Object-oriented programming">object-oriented programming</a>. It states that, in a <a href="/wiki/Computer_program" title="Computer program">computer program</a>, if S is a <a href="/wiki/Subtype" title="Subtype" class="mw-redirect">subtype</a> of T, then objects of <a href="/wiki/Datatype" title="Datatype" class="mw-redirect">type</a> T may be replaced with objects of type S (i.e., objects of type S may <i>substitute</i> objects of type T) without altering any of the desirable properties of that program (correctness, task performed, etc.). More formally, the <b>Liskov substitution principle</b> (<b>LSP</b>) is a particular definition of a <a href="/wiki/Subtyping" title="Subtyping">subtyping</a> relation, called <b>(strong) behavioral subtyping</b>, that was initially introduced by <a href="/wiki/Barbara_Liskov" title="Barbara Liskov">Barbara Liskov</a> in a 1987 conference <a href="/wiki/Keynote" title="Keynote">keynote</a> address entitled <i>Data abstraction and hierarchy</i>. It is a <a href="/wiki/Formal_semantics_of_programming_languages" title="Formal semantics of programming languages" class="mw-redirect">semantic</a> rather than merely syntactic relation because it intends to guarantee semantic interoperability of <a href="/wiki/Data_type" title="Data type">types</a> in a hierarchy, <a href="/wiki/Object_(computer_science)" title="Object (computer science)">object types</a> in particular. <a href="/wiki/Barbara_Liskov" title="Barbara Liskov">Barbara Liskov</a> and <a href="/wiki/Jeannette_Wing" title="Jeannette Wing">Jeannette Wing</a> formulated the principle succinctly in a 1994 paper as follows:</p>
<p>In the same paper, Liskov and Wing detailed their notion of behavioral subtyping in an extension of <a href="/wiki/Hoare_logic" title="Hoare logic">Hoare logic</a>, which bears a certain resemblance with <a href="/wiki/Bertrand_Meyer" title="Bertrand Meyer">Bertrand Meyer</a>'s <a href="/wiki/Design_by_Contract" title="Design by Contract" class="mw-redirect">Design by Contract</a> in that it considers the interaction of subtyping with <a href="/wiki/Precondition" title="Precondition">preconditions</a>, <a href="/wiki/Postcondition" title="Postcondition">postconditions</a> and <a href="/wiki/Invariant_(computer_science)" title="Invariant (computer science)">invariants</a>.</p>
<p></p>
<h2>Contents</h2>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Principle"><span class="tocnumber">1</span> <span class="toctext">Principle</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Origins"><span class="tocnumber">2</span> <span class="toctext">Origins</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#A_typical_violation"><span class="tocnumber">3</span> <span class="toctext">A typical violation</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#See_also"><span class="tocnumber">4</span> <span class="toctext">See also</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#References"><span class="tocnumber">5</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Bibliography"><span class="tocnumber">6</span> <span class="toctext">Bibliography</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#External_links"><span class="tocnumber">7</span> <span class="toctext">External links</span></a></li>
</ul>
<p></p>
<h2><span class="mw-headline" id="Principle">Principle</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Liskov_substitution_principle&amp;action=edit&amp;section=1" title="Edit section: Principle">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Liskov's notion of a behavioral subtype defines a notion of substitutability for <a href="/wiki/Mutable" title="Mutable" class="mw-redirect">mutable</a> objects; that is, if <i>S</i> is a subtype of <i>T</i>, then objects of type <i>T</i> in a program may be replaced with objects of type <i>S</i> without altering any of the desirable properties of that program (e.g., <a href="/wiki/Correctness_(computer_science)" title="Correctness (computer science)">correctness</a>).</p>
<p>Behavioral subtyping is a stronger notion than typical <a href="/wiki/Subtyping_of_functions" title="Subtyping of functions" class="mw-redirect">subtyping of functions</a> defined in <a href="/wiki/Type_theory" title="Type theory">type theory</a>, which relies only on the <a href="/wiki/Covariance_and_contravariance_(computer_science)" title="Covariance and contravariance (computer science)">contravariance</a> of argument types and <a href="/wiki/Covariance_and_contravariance_(computer_science)" title="Covariance and contravariance (computer science)">covariance</a> of the return type. Behavioral subtyping is trivially <a href="/wiki/Undecidable_problem" title="Undecidable problem">undecidable</a> in general: if <i>q</i> is the property "method for <i>x</i> <a href="/wiki/Halting_problem" title="Halting problem">always terminates</a>", then it is impossible for a program (e.g., a compiler) to verify that it holds true for some subtype <i>S</i> of <i>T</i>, even if <i>q</i> does hold for <i>T</i>. Nonetheless, the principle is useful in reasoning about the design of class hierarchies.</p>
<p>Liskov's principle imposes some standard requirements on <a href="/wiki/Type_signature" title="Type signature">signatures</a> which have been adopted in newer object-oriented programming languages (usually at the level of classes rather than types; see <a href="/wiki/Subtype#Subtyping_schemes" title="Subtype" class="mw-redirect">nominal vs. structural subtyping</a> for the distinction):</p>
<ul>
<li><a href="/wiki/Covariance_and_contravariance_(computer_science)" title="Covariance and contravariance (computer science)">Contravariance</a> of method arguments in the subtype.</li>
<li><a href="/wiki/Covariance_and_contravariance_(computer_science)" title="Covariance and contravariance (computer science)">Covariance</a> of return types in the subtype.</li>
<li>No new exceptions should be thrown by methods of the subtype, except where those exceptions are themselves subtypes of exceptions thrown by the methods of the supertype.</li>
</ul>
<p>In addition to the signature requirements, the subtype must meet a number of behavioral conditions. These are detailed in a terminology resembling that of <a href="/wiki/Design_by_contract" title="Design by contract">design by contract</a> methodology, leading to some restrictions on how contracts can interact with <a href="/wiki/Inheritance_(computer_science)" title="Inheritance (computer science)" class="mw-redirect">inheritance</a>:</p>
<ul>
<li><a href="/wiki/Precondition" title="Precondition">Preconditions</a> cannot be strengthened in a subtype.</li>
<li><a href="/wiki/Postcondition" title="Postcondition">Postconditions</a> cannot be weakened in a subtype.</li>
<li><a href="/wiki/Invariant_(computer_science)" title="Invariant (computer science)">Invariants</a> of the supertype must be preserved in a subtype.</li>
<li>History constraint (the "history rule"). Objects are regarded as being modifiable only through their methods (<a href="/wiki/Encapsulation_(computer_science)" title="Encapsulation (computer science)" class="mw-redirect">encapsulation</a>). Since subtypes may introduce methods that are not present in the supertype, the introduction of these methods may allow state changes in the subtype that are not permissible in the supertype. The history constraint prohibits this. It was the novel element introduced by Liskov and Wing. A violation of this constraint can be exemplified by defining a <i>mutable point</i> as a subtype of an <i>immutable point</i>. This is a violation of the history constraint, because in the history of the <i>immutable point</i>, the state is always the same after creation, so it cannot include the history of a <i>mutable point</i> in general. Fields added to the subtype may however be safely modified because they are not observable through the supertype methods. Thus, one can derive <i>a circle with fixed center but mutable radius</i> from <i>immutable point</i> without violating LSP.</li>
</ul>
<h2><span class="mw-headline" id="Origins">Origins</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Liskov_substitution_principle&amp;action=edit&amp;section=2" title="Edit section: Origins">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The rules on pre- and postconditions are identical to those introduced by Bertrand Meyer in his 1988 book. Both Meyer, and later Pierre America, who was the first to use the term <i>behavioral subtyping</i>, gave <a href="/wiki/Proof-theoretic" title="Proof-theoretic" class="mw-redirect">proof-theoretic</a> definitions of some behavioral subtyping notions, but their definitions did not take into account <a href="/wiki/Aliasing_(computing)" title="Aliasing (computing)">aliasing</a> that may occur in programming language that supports references or pointers. Taking aliasing into account was the major improvement made by Liskov and Wing (1994), and a key ingredient is the history constraint. Under the definitions of Meyer and America, a MutablePoint would be a behavioral subtype of ImmutablePoint, whereas LSP forbids this.</p>
<h2><span class="mw-headline" id="A_typical_violation">A typical violation</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Liskov_substitution_principle&amp;action=edit&amp;section=3" title="Edit section: A typical violation">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>A typical example that violates LSP is a Square class that derives from a Rectangle class, assuming getter and setter methods exist for both width and height. The Square class always assumes that the width is equal with the height. If a Square object is used in a context where a Rectangle is expected, unexpected behavior may occur because the dimensions of a Square cannot (or rather should not) be modified independently. This problem cannot be easily fixed: if we can modify the setter methods in the Square class so that they preserve the Square invariant (i.e., keep the dimensions equal), then these methods will weaken (violate) the <a href="/wiki/Postcondition" title="Postcondition">postconditions</a> for the Rectangle setters, which state that dimensions can be modified independently. Violations of LSP, like this one, may or may not be a problem in practice, depending on the postconditions or invariants that are actually expected by the code that uses classes violating LSP. Mutability is a key issue here. If Square and Rectangle had only getter methods (i.e., they were <a href="/wiki/Immutable_object" title="Immutable object">immutable objects</a>), then no violation of LSP could occur.</p>
<h2><span class="mw-headline" id="See_also">See also</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Liskov_substitution_principle&amp;action=edit&amp;section=4" title="Edit section: See also">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul>
<li><a href="/wiki/Program_refinement" title="Program refinement" class="mw-redirect">Refinement</a></li>
<li><a href="/wiki/Solid_(object-oriented_design)" title="Solid (object-oriented design)" class="mw-redirect">SOLID</a>: the L in SOLID stands for Liskov substitution principle</li>
<li><a href="/wiki/Type_signature" title="Type signature">Type signature</a></li>
<li><a href="/wiki/Composition_over_inheritance" title="Composition over inheritance">Composition over inheritance</a></li>
</ul>
<h2><span class="mw-headline" id="References">References</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Liskov_substitution_principle&amp;action=edit&amp;section=5" title="Edit section: References">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h2><span class="mw-headline" id="Bibliography">Bibliography</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Liskov_substitution_principle&amp;action=edit&amp;section=6" title="Edit section: Bibliography">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><b>General references</b></p>
<ul>
<li><a href="/wiki/Gary_T._Leavens" title="Gary T. Leavens">Gary T. Leavens</a> and Krishna K. Dhara, <i>Concepts of Behavioral Subtyping and a Sketch of Their Extension to Component-Bases Systems</i> in Gary T. Leavens, Murali Sitaraman, (ed.) <i>Foundations of component-based systems</i>, Cambridge University Press, 2000 <a href="/wiki/Special:BookSources/0521771641" class="internal mw-magiclink-isbn">ISBN 0-521-77164-1</a>. This paper surveys various notions of behavioral subtyping, including Liskov and Wing's.</li>
<li><span class="citation conference"><a href="/wiki/Barbara_Liskov" title="Barbara Liskov">Liskov, B. H.</a>; <a href="/wiki/Jeannette_Wing" title="Jeannette Wing">Wing, J. M.</a> (November 1994). "A behavioral notion of subtyping". <i><a href="/wiki/ACM_Transactions_on_Programming_Languages_and_Systems" title="ACM Transactions on Programming Languages and Systems">ACM Trans. Program. Lang. Syst.</a></i> <b>16</b> (6): 1811–1841. <a href="/wiki/Digital_object_identifier" title="Digital object identifier">doi</a>:<a rel="nofollow" class="external text" href="http://dx.doi.org/10.1145%2F197320.197383">10.1145/197320.197383</a>.</span><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ALiskov+substitution+principle&amp;rft.atitle=A+behavioral+notion+of+subtyping&amp;rft.aufirst=B.+H.&amp;rft.aulast=Liskov&amp;rft.au=Liskov%2C+B.+H.&amp;rft.au=Wing%2C+J.+M.&amp;rft.date=November+1994&amp;rft.genre=article&amp;rft_id=info%3Adoi%2F10.1145%2F197320.197383&amp;rft.issue=6&amp;rft.jtitle=ACM+Trans.+Program.+Lang.+Syst.&amp;rft.pages=1811-1841&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.volume=16" class="Z3988"><span style="display:none;"> </span></span> <span class="plainlinks noprint" style="font-size:smaller"><a class="external text" href="//en.wikipedia.org/w/index.php?title=Template:Cite_doi/10.1145.2F197320.197383&amp;action=edit&amp;editintro=Template:Cite_doi/editintro2">edit</a></span> An updated version appeared as CMU technical report: <span class="citation web"><a href="/wiki/Barbara_Liskov" title="Barbara Liskov">Liskov, Barbara</a>; <a href="/wiki/Jeannette_Wing" title="Jeannette Wing">Wing, Jeannette</a> (July 1999). <a rel="nofollow" class="external text" href="http://reports-archive.adm.cs.cmu.edu/anon/1999/CMU-CS-99-156.ps">"Behavioral Subtyping Using Invariants and Constraints"</a> (<a href="/wiki/PostScript" title="PostScript">PS</a>)<span class="reference-accessdate">. Retrieved 2006-10-05</span>.</span><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ALiskov+substitution+principle&amp;rft.aufirst=Barbara&amp;rft.aulast=Liskov&amp;rft.au=Liskov%2C+Barbara&amp;rft.au=Wing%2C+Jeannette&amp;rft.btitle=Behavioral+Subtyping+Using+Invariants+and+Constraints&amp;rft.date=July+1999&amp;rft.genre=book&amp;rft_id=http%3A%2F%2Freports-archive.adm.cs.cmu.edu%2Fanon%2F1999%2FCMU-CS-99-156.ps&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;"> </span></span> The formalization of the principle by its authors.</li>
<li>Reinhold Plösch, <i>Contracts, scenarios and prototypes: an integrated approach to high quality software</i>, Springer, 2004, <a href="/wiki/Special:BookSources/3540434860" class="internal mw-magiclink-isbn">ISBN 3-540-43486-0</a>. Contains a gentler introduction to behavioral subtyping in its various forms in chapter 2.</li>
<li><a href="/wiki/Robert_C._Martin" title="Robert C. Martin" class="mw-redirect">Robert C. Martin</a>, <a rel="nofollow" class="external text" href="http://www.objectmentor.com/resources/articles/lsp.pdf">The Liskov Substitution Principle</a>, C++ Report, March 1996. An article popular in the object-oriented programming community that gives several examples of LSP violations.</li>
<li>Kazimir Majorinc, Ellipse-Circle Dilemma and Inverse Inheritance, ITI 98, Proceedings of the 20th International Conference of Information Technology Interfaces, Pula, 1998, ISSN 1330-1012. This paper discusses LSP in the mentioned context.</li>
</ul>
<p><b>Specific references</b></p>
<ul>
<li><span class="citation journal"><a href="/wiki/Barbara_Liskov" title="Barbara Liskov">Liskov, B.</a> (May 1988). "Keynote address - data abstraction and hierarchy". <i>ACM SIGPLAN Notices</i> <b>23</b> (5): 17–34. <a href="/wiki/Digital_object_identifier" title="Digital object identifier">doi</a>:<a rel="nofollow" class="external text" href="http://dx.doi.org/10.1145%2F62139.62141">10.1145/62139.62141</a>.</span><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ALiskov+substitution+principle&amp;rft.atitle=Keynote+address+-+data+abstraction+and+hierarchy&amp;rft.aufirst=B.&amp;rft.aulast=Liskov&amp;rft.au=Liskov%2C+B.&amp;rft.date=May+1988&amp;rft.genre=article&amp;rft_id=info%3Adoi%2F10.1145%2F62139.62141&amp;rft.issue=5&amp;rft.jtitle=ACM+SIGPLAN+Notices&amp;rft.pages=17-34&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.volume=23" class="Z3988"><span style="display:none;"> </span></span> <span class="plainlinks noprint" style="font-size:smaller"><a class="external text" href="//en.wikipedia.org/w/index.php?title=Template:Cite_doi/10.1145.2F62139.62141&amp;action=edit&amp;editintro=Template:Cite_doi/editintro2">edit</a></span> A keynote address in which Liskov first formulated the principle.</li>
<li>Meyer B., <i><a href="/wiki/Object-oriented_Software_Construction" title="Object-oriented Software Construction" class="mw-redirect">Object-oriented Software Construction</a></i>, Prentice Hall, New York, 1988, <a href="/wiki/Special:BookSources/0136290310" class="internal mw-magiclink-isbn">ISBN 0-13-629031-0</a></li>
</ul>
<h2><span class="mw-headline" id="External_links">External links</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Liskov_substitution_principle&amp;action=edit&amp;section=7" title="Edit section: External links">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="http://www.engr.mun.ca/~theo/Courses/sd/5895-downloads/sd-principles-3.ppt.pdf">The Liskov Substitution Principle</a>, T. S. Norvell, 2003.</li>
</ul>
<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Liskov substitution principle</span></h1>
<ul>
<li><a href="/wiki/Single_responsibility_principle" title="Single responsibility principle">Single responsibility</a></li>
<li><a href="/wiki/Open/closed_principle" title="Open/closed principle">Open/closed</a></li>
<li><strong class="selflink">Liskov substitution</strong></li>
<li><a href="/wiki/Interface_segregation_principle" title="Interface segregation principle">Interface segregation</a></li>
<li><a href="/wiki/Dependency_inversion_principle" title="Dependency inversion principle">Dependency inversion</a></li>
</ul>
<ul>
<li class="nv-view"><a href="/wiki/Template:Solid_principles" title="Template:Solid principles"><span title="View this template" style=";">v</span></a></li>
<li class="nv-talk"><a href="/w/index.php?title=Template_talk:Solid_principles&amp;action=edit&amp;redlink=1" class="new" title="Template talk:Solid principles (page does not exist)"><span title="Discuss this template" style=";">t</span></a></li>
<li class="nv-edit"><a class="external text" href="//en.wikipedia.org/w/index.php?title=Template:Solid_principles&amp;action=edit"><span title="Edit this template" style=";">e</span></a></li>
</ul>
<p><b>Substitutability</b> is a principle in <a href="/wiki/Object-oriented_programming" title="Object-oriented programming">object-oriented programming</a>. It states that, in a <a href="/wiki/Computer_program" title="Computer program">computer program</a>, if S is a <a href="/wiki/Subtype" title="Subtype" class="mw-redirect">subtype</a> of T, then objects of <a href="/wiki/Datatype" title="Datatype" class="mw-redirect">type</a> T may be replaced with objects of type S (i.e., objects of type S may <i>substitute</i> objects of type T) without altering any of the desirable properties of that program (correctness, task performed, etc.). More formally, the <b>Liskov substitution principle</b> (<b>LSP</b>) is a particular definition of a <a href="/wiki/Subtyping" title="Subtyping">subtyping</a> relation, called <b>(strong) behavioral subtyping</b>, that was initially introduced by <a href="/wiki/Barbara_Liskov" title="Barbara Liskov">Barbara Liskov</a> in a 1987 conference <a href="/wiki/Keynote" title="Keynote">keynote</a> address entitled <i>Data abstraction and hierarchy</i>. It is a <a href="/wiki/Formal_semantics_of_programming_languages" title="Formal semantics of programming languages" class="mw-redirect">semantic</a> rather than merely syntactic relation because it intends to guarantee semantic interoperability of <a href="/wiki/Data_type" title="Data type">types</a> in a hierarchy, <a href="/wiki/Object_(computer_science)" title="Object (computer science)">object types</a> in particular. <a href="/wiki/Barbara_Liskov" title="Barbara Liskov">Barbara Liskov</a> and <a href="/wiki/Jeannette_Wing" title="Jeannette Wing">Jeannette Wing</a> formulated the principle succinctly in a 1994 paper as follows:</p>
<p>In the same paper, Liskov and Wing detailed their notion of behavioral subtyping in an extension of <a href="/wiki/Hoare_logic" title="Hoare logic">Hoare logic</a>, which bears a certain resemblance with <a href="/wiki/Bertrand_Meyer" title="Bertrand Meyer">Bertrand Meyer</a>'s <a href="/wiki/Design_by_Contract" title="Design by Contract" class="mw-redirect">Design by Contract</a> in that it considers the interaction of subtyping with <a href="/wiki/Precondition" title="Precondition">preconditions</a>, <a href="/wiki/Postcondition" title="Postcondition">postconditions</a> and <a href="/wiki/Invariant_(computer_science)" title="Invariant (computer science)">invariants</a>.</p>
<p></p>
<h2>Contents</h2>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Principle"><span class="tocnumber">1</span> <span class="toctext">Principle</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Origins"><span class="tocnumber">2</span> <span class="toctext">Origins</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#A_typical_violation"><span class="tocnumber">3</span> <span class="toctext">A typical violation</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#See_also"><span class="tocnumber">4</span> <span class="toctext">See also</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#References"><span class="tocnumber">5</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Bibliography"><span class="tocnumber">6</span> <span class="toctext">Bibliography</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#External_links"><span class="tocnumber">7</span> <span class="toctext">External links</span></a></li>
</ul>
<p></p>
<h2><span class="mw-headline" id="Principle">Principle</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Liskov_substitution_principle&amp;action=edit&amp;section=1" title="Edit section: Principle">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Liskov's notion of a behavioral subtype defines a notion of substitutability for <a href="/wiki/Mutable" title="Mutable" class="mw-redirect">mutable</a> objects; that is, if <i>S</i> is a subtype of <i>T</i>, then objects of type <i>T</i> in a program may be replaced with objects of type <i>S</i> without altering any of the desirable properties of that program (e.g., <a href="/wiki/Correctness_(computer_science)" title="Correctness (computer science)">correctness</a>).</p>
<p>Behavioral subtyping is a stronger notion than typical <a href="/wiki/Subtyping_of_functions" title="Subtyping of functions" class="mw-redirect">subtyping of functions</a> defined in <a href="/wiki/Type_theory" title="Type theory">type theory</a>, which relies only on the <a href="/wiki/Covariance_and_contravariance_(computer_science)" title="Covariance and contravariance (computer science)">contravariance</a> of argument types and <a href="/wiki/Covariance_and_contravariance_(computer_science)" title="Covariance and contravariance (computer science)">covariance</a> of the return type. Behavioral subtyping is trivially <a href="/wiki/Undecidable_problem" title="Undecidable problem">undecidable</a> in general: if <i>q</i> is the property "method for <i>x</i> <a href="/wiki/Halting_problem" title="Halting problem">always terminates</a>", then it is impossible for a program (e.g., a compiler) to verify that it holds true for some subtype <i>S</i> of <i>T</i>, even if <i>q</i> does hold for <i>T</i>. Nonetheless, the principle is useful in reasoning about the design of class hierarchies.</p>
<p>Liskov's principle imposes some standard requirements on <a href="/wiki/Type_signature" title="Type signature">signatures</a> which have been adopted in newer object-oriented programming languages (usually at the level of classes rather than types; see <a href="/wiki/Subtype#Subtyping_schemes" title="Subtype" class="mw-redirect">nominal vs. structural subtyping</a> for the distinction):</p>
<ul>
<li><a href="/wiki/Covariance_and_contravariance_(computer_science)" title="Covariance and contravariance (computer science)">Contravariance</a> of method arguments in the subtype.</li>
<li><a href="/wiki/Covariance_and_contravariance_(computer_science)" title="Covariance and contravariance (computer science)">Covariance</a> of return types in the subtype.</li>
<li>No new exceptions should be thrown by methods of the subtype, except where those exceptions are themselves subtypes of exceptions thrown by the methods of the supertype.</li>
</ul>
<p>In addition to the signature requirements, the subtype must meet a number of behavioral conditions. These are detailed in a terminology resembling that of <a href="/wiki/Design_by_contract" title="Design by contract">design by contract</a> methodology, leading to some restrictions on how contracts can interact with <a href="/wiki/Inheritance_(computer_science)" title="Inheritance (computer science)" class="mw-redirect">inheritance</a>:</p>
<ul>
<li><a href="/wiki/Precondition" title="Precondition">Preconditions</a> cannot be strengthened in a subtype.</li>
<li><a href="/wiki/Postcondition" title="Postcondition">Postconditions</a> cannot be weakened in a subtype.</li>
<li><a href="/wiki/Invariant_(computer_science)" title="Invariant (computer science)">Invariants</a> of the supertype must be preserved in a subtype.</li>
<li>History constraint (the "history rule"). Objects are regarded as being modifiable only through their methods (<a href="/wiki/Encapsulation_(computer_science)" title="Encapsulation (computer science)" class="mw-redirect">encapsulation</a>). Since subtypes may introduce methods that are not present in the supertype, the introduction of these methods may allow state changes in the subtype that are not permissible in the supertype. The history constraint prohibits this. It was the novel element introduced by Liskov and Wing. A violation of this constraint can be exemplified by defining a <i>mutable point</i> as a subtype of an <i>immutable point</i>. This is a violation of the history constraint, because in the history of the <i>immutable point</i>, the state is always the same after creation, so it cannot include the history of a <i>mutable point</i> in general. Fields added to the subtype may however be safely modified because they are not observable through the supertype methods. Thus, one can derive <i>a circle with fixed center but mutable radius</i> from <i>immutable point</i> without violating LSP.</li>
</ul>
<h2><span class="mw-headline" id="Origins">Origins</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Liskov_substitution_principle&amp;action=edit&amp;section=2" title="Edit section: Origins">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>The rules on pre- and postconditions are identical to those introduced by Bertrand Meyer in his 1988 book. Both Meyer, and later Pierre America, who was the first to use the term <i>behavioral subtyping</i>, gave <a href="/wiki/Proof-theoretic" title="Proof-theoretic" class="mw-redirect">proof-theoretic</a> definitions of some behavioral subtyping notions, but their definitions did not take into account <a href="/wiki/Aliasing_(computing)" title="Aliasing (computing)">aliasing</a> that may occur in programming language that supports references or pointers. Taking aliasing into account was the major improvement made by Liskov and Wing (1994), and a key ingredient is the history constraint. Under the definitions of Meyer and America, a MutablePoint would be a behavioral subtype of ImmutablePoint, whereas LSP forbids this.</p>
<h2><span class="mw-headline" id="A_typical_violation">A typical violation</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Liskov_substitution_principle&amp;action=edit&amp;section=3" title="Edit section: A typical violation">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>A typical example that violates LSP is a Square class that derives from a Rectangle class, assuming getter and setter methods exist for both width and height. The Square class always assumes that the width is equal with the height. If a Square object is used in a context where a Rectangle is expected, unexpected behavior may occur because the dimensions of a Square cannot (or rather should not) be modified independently. This problem cannot be easily fixed: if we can modify the setter methods in the Square class so that they preserve the Square invariant (i.e., keep the dimensions equal), then these methods will weaken (violate) the <a href="/wiki/Postcondition" title="Postcondition">postconditions</a> for the Rectangle setters, which state that dimensions can be modified independently. Violations of LSP, like this one, may or may not be a problem in practice, depending on the postconditions or invariants that are actually expected by the code that uses classes violating LSP. Mutability is a key issue here. If Square and Rectangle had only getter methods (i.e., they were <a href="/wiki/Immutable_object" title="Immutable object">immutable objects</a>), then no violation of LSP could occur.</p>
<h2><span class="mw-headline" id="See_also">See also</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Liskov_substitution_principle&amp;action=edit&amp;section=4" title="Edit section: See also">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul>
<li><a href="/wiki/Program_refinement" title="Program refinement" class="mw-redirect">Refinement</a></li>
<li><a href="/wiki/Solid_(object-oriented_design)" title="Solid (object-oriented design)" class="mw-redirect">SOLID</a>: the L in SOLID stands for Liskov substitution principle</li>
<li><a href="/wiki/Type_signature" title="Type signature">Type signature</a></li>
<li><a href="/wiki/Composition_over_inheritance" title="Composition over inheritance">Composition over inheritance</a></li>
</ul>
<h2><span class="mw-headline" id="References">References</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Liskov_substitution_principle&amp;action=edit&amp;section=5" title="Edit section: References">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h2><span class="mw-headline" id="Bibliography">Bibliography</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Liskov_substitution_principle&amp;action=edit&amp;section=6" title="Edit section: Bibliography">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><b>General references</b></p>
<ul>
<li><a href="/wiki/Gary_T._Leavens" title="Gary T. Leavens">Gary T. Leavens</a> and Krishna K. Dhara, <i>Concepts of Behavioral Subtyping and a Sketch of Their Extension to Component-Bases Systems</i> in Gary T. Leavens, Murali Sitaraman, (ed.) <i>Foundations of component-based systems</i>, Cambridge University Press, 2000 <a href="/wiki/Special:BookSources/0521771641" class="internal mw-magiclink-isbn">ISBN 0-521-77164-1</a>. This paper surveys various notions of behavioral subtyping, including Liskov and Wing's.</li>
<li><span class="citation conference"><a href="/wiki/Barbara_Liskov" title="Barbara Liskov">Liskov, B. H.</a>; <a href="/wiki/Jeannette_Wing" title="Jeannette Wing">Wing, J. M.</a> (November 1994). "A behavioral notion of subtyping". <i><a href="/wiki/ACM_Transactions_on_Programming_Languages_and_Systems" title="ACM Transactions on Programming Languages and Systems">ACM Trans. Program. Lang. Syst.</a></i> <b>16</b> (6): 1811–1841. <a href="/wiki/Digital_object_identifier" title="Digital object identifier">doi</a>:<a rel="nofollow" class="external text" href="http://dx.doi.org/10.1145%2F197320.197383">10.1145/197320.197383</a>.</span><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ALiskov+substitution+principle&amp;rft.atitle=A+behavioral+notion+of+subtyping&amp;rft.aufirst=B.+H.&amp;rft.aulast=Liskov&amp;rft.au=Liskov%2C+B.+H.&amp;rft.au=Wing%2C+J.+M.&amp;rft.date=November+1994&amp;rft.genre=article&amp;rft_id=info%3Adoi%2F10.1145%2F197320.197383&amp;rft.issue=6&amp;rft.jtitle=ACM+Trans.+Program.+Lang.+Syst.&amp;rft.pages=1811-1841&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.volume=16" class="Z3988"><span style="display:none;"> </span></span> <span class="plainlinks noprint" style="font-size:smaller"><a class="external text" href="//en.wikipedia.org/w/index.php?title=Template:Cite_doi/10.1145.2F197320.197383&amp;action=edit&amp;editintro=Template:Cite_doi/editintro2">edit</a></span> An updated version appeared as CMU technical report: <span class="citation web"><a href="/wiki/Barbara_Liskov" title="Barbara Liskov">Liskov, Barbara</a>; <a href="/wiki/Jeannette_Wing" title="Jeannette Wing">Wing, Jeannette</a> (July 1999). <a rel="nofollow" class="external text" href="http://reports-archive.adm.cs.cmu.edu/anon/1999/CMU-CS-99-156.ps">"Behavioral Subtyping Using Invariants and Constraints"</a> (<a href="/wiki/PostScript" title="PostScript">PS</a>)<span class="reference-accessdate">. Retrieved 2006-10-05</span>.</span><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ALiskov+substitution+principle&amp;rft.aufirst=Barbara&amp;rft.aulast=Liskov&amp;rft.au=Liskov%2C+Barbara&amp;rft.au=Wing%2C+Jeannette&amp;rft.btitle=Behavioral+Subtyping+Using+Invariants+and+Constraints&amp;rft.date=July+1999&amp;rft.genre=book&amp;rft_id=http%3A%2F%2Freports-archive.adm.cs.cmu.edu%2Fanon%2F1999%2FCMU-CS-99-156.ps&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;"> </span></span> The formalization of the principle by its authors.</li>
<li>Reinhold Plösch, <i>Contracts, scenarios and prototypes: an integrated approach to high quality software</i>, Springer, 2004, <a href="/wiki/Special:BookSources/3540434860" class="internal mw-magiclink-isbn">ISBN 3-540-43486-0</a>. Contains a gentler introduction to behavioral subtyping in its various forms in chapter 2.</li>
<li><a href="/wiki/Robert_C._Martin" title="Robert C. Martin" class="mw-redirect">Robert C. Martin</a>, <a rel="nofollow" class="external text" href="http://www.objectmentor.com/resources/articles/lsp.pdf">The Liskov Substitution Principle</a>, C++ Report, March 1996. An article popular in the object-oriented programming community that gives several examples of LSP violations.</li>
<li>Kazimir Majorinc, Ellipse-Circle Dilemma and Inverse Inheritance, ITI 98, Proceedings of the 20th International Conference of Information Technology Interfaces, Pula, 1998, ISSN 1330-1012. This paper discusses LSP in the mentioned context.</li>
</ul>
<p><b>Specific references</b></p>
<ul>
<li><span class="citation journal"><a href="/wiki/Barbara_Liskov" title="Barbara Liskov">Liskov, B.</a> (May 1988). "Keynote address - data abstraction and hierarchy". <i>ACM SIGPLAN Notices</i> <b>23</b> (5): 17–34. <a href="/wiki/Digital_object_identifier" title="Digital object identifier">doi</a>:<a rel="nofollow" class="external text" href="http://dx.doi.org/10.1145%2F62139.62141">10.1145/62139.62141</a>.</span><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3ALiskov+substitution+principle&amp;rft.atitle=Keynote+address+-+data+abstraction+and+hierarchy&amp;rft.aufirst=B.&amp;rft.aulast=Liskov&amp;rft.au=Liskov%2C+B.&amp;rft.date=May+1988&amp;rft.genre=article&amp;rft_id=info%3Adoi%2F10.1145%2F62139.62141&amp;rft.issue=5&amp;rft.jtitle=ACM+SIGPLAN+Notices&amp;rft.pages=17-34&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;rft.volume=23" class="Z3988"><span style="display:none;"> </span></span> <span class="plainlinks noprint" style="font-size:smaller"><a class="external text" href="//en.wikipedia.org/w/index.php?title=Template:Cite_doi/10.1145.2F62139.62141&amp;action=edit&amp;editintro=Template:Cite_doi/editintro2">edit</a></span> A keynote address in which Liskov first formulated the principle.</li>
<li>Meyer B., <i><a href="/wiki/Object-oriented_Software_Construction" title="Object-oriented Software Construction" class="mw-redirect">Object-oriented Software Construction</a></i>, Prentice Hall, New York, 1988, <a href="/wiki/Special:BookSources/0136290310" class="internal mw-magiclink-isbn">ISBN 0-13-629031-0</a></li>
</ul>
<h2><span class="mw-headline" id="External_links">External links</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Liskov_substitution_principle&amp;action=edit&amp;section=7" title="Edit section: External links">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="http://www.engr.mun.ca/~theo/Courses/sd/5895-downloads/sd-principles-3.ppt.pdf">The Liskov Substitution Principle</a>, T. S. Norvell, 2003.</li>
</ul>
