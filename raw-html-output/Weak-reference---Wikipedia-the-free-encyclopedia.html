<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Weak reference</span></h1>
<p>In <a href="/wiki/Computer_programming" title="Computer programming">computer programming</a>, a <b>weak reference</b> is a <a href="/wiki/Reference_(computer_science)" title="Reference (computer science)">reference</a> that does not protect the referenced <a href="/wiki/Object_(computer_science)" title="Object (computer science)">object</a> from collection by a <a href="/wiki/Garbage_collection_(computer_science)" title="Garbage collection (computer science)">garbage collector</a>, unlike a <a href="/wiki/Strong_reference" title="Strong reference">strong reference</a>. An object referenced <i>only</i> by weak references – meaning "every chain of references that reaches the object includes at least one weak reference as a link" – is considered <i><a href="/wiki/Weakly_reachable" title="Weakly reachable" class="mw-redirect">weakly reachable</a>,</i> and can be treated as <a href="/wiki/Unreachable_memory" title="Unreachable memory">unreachable</a> and so may be collected at any time. Some garbage-collected languages feature or support various levels of weak references, such as <a href="/wiki/Java_(programming_language)" title="Java (programming language)">Java</a>, <a href="/wiki/C_Sharp_(programming_language)" title="C Sharp (programming language)">C#</a>, <a href="/wiki/Python_(programming_language)" title="Python (programming language)">Python</a>,<sup id="cite_ref-1" class="reference"><a href="#cite_note-1"><span>[</span>1<span>]</span></a></sup> <a href="/wiki/Perl" title="Perl">Perl</a>, and <a href="/wiki/Lisp_(programming_language)" title="Lisp (programming language)">Lisp</a>，<a href="/wiki/List_of_command-line_interpreters" title="List of command-line interpreters">Shell</a>.</p>
<p></p>
<h2>Contents</h2>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Uses"><span class="tocnumber">1</span> <span class="toctext">Uses</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Garbage_collection"><span class="tocnumber">2</span> <span class="toctext">Garbage collection</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Variations"><span class="tocnumber">3</span> <span class="toctext">Variations</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Examples"><span class="tocnumber">4</span> <span class="toctext">Examples</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Java"><span class="tocnumber">4.1</span> <span class="toctext">Java</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Smalltalk"><span class="tocnumber">4.2</span> <span class="toctext">Smalltalk</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Lua"><span class="tocnumber">4.3</span> <span class="toctext">Lua</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Objective-C_2.0"><span class="tocnumber">4.4</span> <span class="toctext">Objective-C 2.0</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Vala"><span class="tocnumber">4.5</span> <span class="toctext">Vala</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-10"><a href="#See_also"><span class="tocnumber">5</span> <span class="toctext">See also</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Notes"><span class="tocnumber">6</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="#External_links"><span class="tocnumber">7</span> <span class="toctext">External links</span></a>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#C.2B.2B"><span class="tocnumber">7.1</span> <span class="toctext">C++</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Java_2"><span class="tocnumber">7.2</span> <span class="toctext">Java</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Python"><span class="tocnumber">7.3</span> <span class="toctext">Python</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Shell"><span class="tocnumber">7.4</span> <span class="toctext">Shell</span></a></li>
</ul>
</li>
</ul>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Java"><span class="tocnumber">4.1</span> <span class="toctext">Java</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Smalltalk"><span class="tocnumber">4.2</span> <span class="toctext">Smalltalk</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Lua"><span class="tocnumber">4.3</span> <span class="toctext">Lua</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Objective-C_2.0"><span class="tocnumber">4.4</span> <span class="toctext">Objective-C 2.0</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="#Vala"><span class="tocnumber">4.5</span> <span class="toctext">Vala</span></a></li>
</ul>
<ul>
<li class="toclevel-2 tocsection-13"><a href="#C.2B.2B"><span class="tocnumber">7.1</span> <span class="toctext">C++</span></a></li>
<li class="toclevel-2 tocsection-14"><a href="#Java_2"><span class="tocnumber">7.2</span> <span class="toctext">Java</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="#Python"><span class="tocnumber">7.3</span> <span class="toctext">Python</span></a></li>
<li class="toclevel-2 tocsection-16"><a href="#Shell"><span class="tocnumber">7.4</span> <span class="toctext">Shell</span></a></li>
</ul>
<p></p>
<h2><span class="mw-headline" id="Uses">Uses</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Weak_reference&amp;action=edit&amp;section=1" title="Edit section: Uses">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Weak references have a number of common use cases. When using <a href="/wiki/Reference_counting" title="Reference counting">reference counting</a> garbage collection, weak references can break <a href="/wiki/Reference_cycle" title="Reference cycle" class="mw-redirect">reference cycles</a>, by using a weak reference for a link in the cycle. When one has an <a href="/wiki/Associative_array" title="Associative array">associative array</a> (mapping, hash map) whose keys are (references to) objects, for example to hold auxiliary value about objects, using weak references for the keys avoids keeping the objects alive just because of their use as a key. When one has an object where other objects are registered, such as in the <a href="/wiki/Observer_pattern" title="Observer pattern">observer pattern</a> (particularly in <a href="/wiki/Event_handling" title="Event handling" class="mw-redirect">event handling</a>), if a strong reference is kept, objects must be explicitly unregistered, otherwise a memory leak occurs (the <a href="/wiki/Lapsed_listener_problem" title="Lapsed listener problem">lapsed listener problem</a>), while a weak reference removes the need to unregister. When holding cached data that can be recreated if necessary, weak references allow the cache to be reclaimed, effectively producing <a href="/w/index.php?title=Discardable_memory&amp;action=edit&amp;redlink=1" class="new" title="Discardable memory (page does not exist)">discardable memory</a>. This last case (a cache) is distinct from others, as it is preferable that the objects only be garbage collected if necessary, and there is thus a need for finer distinctions within weak references, here a stronger form of a weak reference. In many cases weak references do not need to be directly used, instead simply using a <a href="/wiki/Weak_array" title="Weak array">weak array</a> or other <a href="/wiki/Container_(abstract_data_type)" title="Container (abstract data type)">container</a> whose keys or values are weak references.</p>
<h2><span class="mw-headline" id="Garbage_collection">Garbage collection</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Weak_reference&amp;action=edit&amp;section=2" title="Edit section: Garbage collection">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Garbage collection is used to clean up unused objects and so reduce the potential for <a href="/wiki/Memory_leak" title="Memory leak">memory leaks</a> and data corruption. There are two main types of garbage collection: tracing and <a href="/wiki/Reference_counting" title="Reference counting">reference counting</a>. Reference counting schemes record the number of references to a given object and collect the object when the reference count becomes zero. Reference-counting cannot collect cyclic (or circular) references because only one object may be collected at a time. Groups of mutually referencing objects which are not directly referenced by other objects and are unreachable can thus become permanently resident; if an application continually generates such unreachable groups of unreachable objects this will have the effect of a <a href="/wiki/Memory_leak" title="Memory leak">memory leak</a>. Weak references (references which are not counted in reference counting) may be used to solve the problem of circular references if the reference cycles are avoided by using weak references for some of the references within the group.</p>
<p>A very common case of such strong vs. weak reference distinctions is in tree structures, such as the <a href="/wiki/Document_Object_Model" title="Document Object Model">Document Object Model</a> (DOM), where parent-to-child references are strong, but child-to-parent references are weak. For example, Apple's <a href="/wiki/Cocoa_(API)" title="Cocoa (API)">Cocoa</a> framework recommends this approach.<sup id="cite_ref-2" class="reference"><a href="#cite_note-2"><span>[</span>2<span>]</span></a></sup> Indeed, even when the object graph is not a tree, a tree structure can often be imposed by the notion of object ownership, where ownership relationships are strong and form a tree, and non-ownership relationships are weak and need not follow the tree – this approach is common in C++, using raw pointers as weak references.</p>
<p>Weak references are also used to minimize the number of unnecessary objects in memory by allowing the program to indicate which objects are of minor importance by only weakly referencing them.</p>
<h2><span class="mw-headline" id="Variations">Variations</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Weak_reference&amp;action=edit&amp;section=3" title="Edit section: Variations">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Some languages have multiple levels of weak reference strength. For example, <a href="/wiki/Java_(programming_language)" title="Java (programming language)">Java</a> has, in order of decreasing strength, <a href="/wiki/Soft_reference" title="Soft reference">soft</a>, weak, and <a href="/wiki/Phantom_reference" title="Phantom reference">phantom</a> references, defined in the <a href="/wiki/Java_package" title="Java package">package</a> <a href="/wiki/Java_Platform,_Standard_Edition#java.lang.ref" title="Java Platform, Standard Edition">java.lang.ref</a>.<sup id="cite_ref-3" class="reference"><a href="#cite_note-3"><span>[</span>3<span>]</span></a></sup> Each reference type has an associated notion of <a rel="nofollow" class="external text" href="http://download.oracle.com/javase/1.4.2/docs/api/java/lang/ref/package-summary.html#reachability">reachability</a>. The garbage collector (GC) uses an object's type of reachability to determine when to free the object. It is safe for the GC to free an object that is softly reachable, but the GC may decide not to do so if it believes the JVM can spare the memory (e.g. the JVM has lots of unused heap space). The GC will free a weakly reachable object as soon as the GC notices the object. Unlike the other reference types, a phantom reference cannot be followed. On the other hand, phantom references provide a mechanism to notify the program when an object has been freed (notification is implemented using <a rel="nofollow" class="external text" href="http://download.oracle.com/javase/6/docs/api/java/lang/ref/ReferenceQueue.html">ReferenceQueues</a>).</p>
<p>In C#, weak references are distinguished by whether they track <a href="/wiki/Object_resurrection" title="Object resurrection">object resurrection</a> or not. This distinction does not occur for strong references, as objects are not finalized if they have any strong references to them. By default, in C# weak reference do not track resurrection, meaning a weak reference is not updated if an object is resurrected; these are called <b>short weak references</b>, and weak references that track resurrection are called <b>long weak references</b>.<sup id="cite_ref-FOOTNOTEGoldshteinZurbalevFlatow2012.5Bhttp:.2F.2Fbooks.google.com.2Fbooks.3Fid.3DD3J58cs-i44C.26pg.3DPA131.26q.3Dresurrection.23v.3Donepage.26q.3Dresurrection_131.5D_4-0" class="reference"><a href="#cite_note-FOOTNOTEGoldshteinZurbalevFlatow2012.5Bhttp:.2F.2Fbooks.google.com.2Fbooks.3Fid.3DD3J58cs-i44C.26pg.3DPA131.26q.3Dresurrection.23v.3Donepage.26q.3Dresurrection_131.5D-4"><span>[</span>4<span>]</span></a></sup></p>
<p>Some non-garbage-collected languages, such as <a href="/wiki/C%2B%2B" title="C++">C++</a>, provide weak/strong reference functionality as part of supporting garbage collection libraries. In the case of C++, normal pointers are <i>weak</i> and <a href="/wiki/Smart_pointer" title="Smart pointer">smart pointers</a> are <i>strong</i>; although pointers are not <i>true</i> weak references, as weak references are supposed to know when the object becomes unreachable.</p>
<h2><span class="mw-headline" id="Examples">Examples</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Weak_reference&amp;action=edit&amp;section=4" title="Edit section: Examples">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Weak references can be useful when keeping a list of the current variables being referenced in the application. This list must have weak links to the objects. Otherwise, once objects are added to the list, they will be referenced by it and will persist for the duration of the program.</p>
<h3><span class="mw-headline" id="Java">Java</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Weak_reference&amp;action=edit&amp;section=5" title="Edit section: Java">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Java was the first main language to introduce <a href="/wiki/Strong_reference" title="Strong reference">strong reference</a> as the default object reference. Previously (ANSI) C only had <strong class="selflink">weak references</strong>. However it was noted by David Hostettler Wain and Scott Alexander Nesmith that event trees were not evaporating properly. Thus strong/weak references of counted and uncounted references was derived (~1998).</p>
<p>If a weak reference is created, and then elsewhere in the code <code><a rel="nofollow" class="external text" href="http://download.oracle.com/javase/1,5.0/docs/api/java/lang/ref/Reference.html#get()">get()</a></code> is used to get the actual object, the weak reference isn't strong enough to prevent garbage collection, so it may be (if there are no strong references to the object) that <code>get()</code> suddenly starts returning null.<sup id="cite_ref-5" class="reference"><a href="#cite_note-5"><span>[</span>5<span>]</span></a></sup></p>
<p>WHATSON? fe446e6c-b0ef-4dfb-8672-5f2221b1831a</p>
<pre class="de1">
<span class="kw1">import</span> <span class="co2">java.lang.ref.WeakReference</span><span class="sy0">;</span>
 
<span class="kw1">public</span> <span class="kw1">class</span> ReferenceTest <span class="br0">{</span>
	<span class="kw1">public</span> <span class="kw1">static</span> <span class="kw4">void</span> main<span class="br0">(</span><span class="kw3">String</span><span class="br0">[</span><span class="br0">]</span> args<span class="br0">)</span> <span class="kw1">throws</span> <span class="kw3">InterruptedException</span> <span class="br0">{</span>
 
            <span class="kw3">WeakReference</span> r <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">WeakReference</span><span class="br0">(</span><span class="kw1">new</span> <span class="kw3">String</span><span class="br0">(</span><span class="st0">"I'm here"</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="kw3">WeakReference</span> sr <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">WeakReference</span><span class="br0">(</span><span class="st0">"I'm here"</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">(</span><span class="st0">"before gc: r="</span> <span class="sy0">+</span> r.<span class="me1">get</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">+</span> <span class="st0">", static="</span> <span class="sy0">+</span> sr.<span class="me1">get</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="kw3">System</span>.<span class="me1">gc</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span>
            <span class="kw3">Thread</span>.<span class="me1">sleep</span><span class="br0">(</span><span class="nu0">100</span><span class="br0">)</span><span class="sy0">;</span>
 
            <span class="co1">// only r.get() becomes null</span>
            <span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">(</span><span class="st0">"after gc: r="</span> <span class="sy0">+</span> r.<span class="me1">get</span><span class="br0">(</span><span class="br0">)</span> <span class="sy0">+</span> <span class="st0">", static="</span> <span class="sy0">+</span> sr.<span class="me1">get</span><span class="br0">(</span><span class="br0">)</span><span class="br0">)</span><span class="sy0">;</span>
 
	<span class="br0">}</span>
<span class="br0">}</span>
</pre>
<p>Another use of weak references is in writing a <a href="/wiki/Cache_(computing)" title="Cache (computing)">cache</a>. Using, for example, a weak <a href="/wiki/Hash_map" title="Hash map" class="mw-redirect">hash map</a>, one can store in the cache the various referred objects via a weak reference. When the garbage collector runs — when for example the application's memory usage gets sufficiently high — those cached objects which are no longer directly referenced by other objects are removed from the cache.</p>
<h3><span class="mw-headline" id="Smalltalk">Smalltalk</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Weak_reference&amp;action=edit&amp;section=6" title="Edit section: Smalltalk">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>WHATSON? 9e3698f2-4d31-428a-b416-c8c12109317a</p>
<pre class="de1">
|<span class="re3">a s1 s2</span>|
 
<span class="re6">s1</span> <span class="sy0">:=</span> <span class="st0">'hello'</span> copy.     <span class="coMULTI">"that's a strong reference"</span>
<span class="re6">s2</span> <span class="sy0">:=</span> <span class="st0">'world'</span> copy.     <span class="coMULTI">"that's a strong reference"</span>
<span class="re6">a</span> <span class="sy0">:=</span> <span class="re0">WeakArray</span> with:<span class="re5">s1</span> with:<span class="re5">s2</span>.
<span class="re5">a</span> printOn: <span class="re0">Transcript</span>. 
<span class="re0">ObjectMemory</span> collectGarbage.
<span class="re5">a</span> printOn: <span class="re0">Transcript</span>.  <span class="coMULTI">"both elements still there"</span>
 
<span class="re6">s1</span> <span class="sy0">:=</span> <span class="kw1">nil</span>.              <span class="coMULTI">"strong reference goes away"</span> 
<span class="re0">ObjectMemory</span> collectGarbage.
<span class="re5">a</span> printOn: <span class="re0">Transcript</span>.  <span class="coMULTI">"first element gone"</span>
 
<span class="re6">s2</span> <span class="sy0">:=</span> <span class="kw1">nil</span>.              <span class="coMULTI">"strong reference goes away"</span> 
<span class="re0">ObjectMemory</span> collectGarbage.
<span class="re5">a</span> printOn: <span class="re0">Transcript</span>.  <span class="coMULTI">"second element gone"</span>
</pre>
<h3><span class="mw-headline" id="Lua">Lua</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Weak_reference&amp;action=edit&amp;section=7" title="Edit section: Lua">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>WHATSON? 3065824c-3f9e-41f2-9219-41ade3f15a6e</p>
<pre class="de1">
weak_table <span class="sy0">=</span> <span class="kw3">setmetatable</span><span class="br0">(</span><span class="br0">{</span><span class="br0">}</span><span class="sy0">,</span> <span class="br0">{</span>__mode<span class="sy0">=</span><span class="st0">"v"</span><span class="br0">}</span><span class="br0">)</span>
weak_table<span class="sy0">.</span>item <span class="sy0">=</span> <span class="br0">{</span><span class="br0">}</span>
<span class="kw3">print</span><span class="br0">(</span>weak_table<span class="sy0">.</span>item<span class="br0">)</span>
<span class="kw3">collectgarbage</span><span class="br0">(</span><span class="br0">)</span>
<span class="kw3">print</span><span class="br0">(</span>weak_table<span class="sy0">.</span>item<span class="br0">)</span>
</pre>
<h3><span class="mw-headline" id="Objective-C_2.0">Objective-C 2.0</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Weak_reference&amp;action=edit&amp;section=8" title="Edit section: Objective-C 2.0">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>In Objective-C 2.0, not only garbage collection, but also <a href="/wiki/Reference_counting" title="Reference counting">automatic reference counting</a> will be affected by weak references. All variables and properties in the following example are weak.</p>
<p>WHATSON? 394e3e19-96a6-4e26-bb44-895954032aa4</p>
<pre class="de1">
<span class="kw1">@interface</span> WeakRef <span class="sy0">:</span> <span class="kw5">NSObject</span>
<span class="br0">{</span>
    __weak <span class="kw5">NSString</span> <span class="sy0">*</span>str1;
    __unsafe_unretained <span class="kw5">NSString</span> <span class="sy0">*</span>str2;
<span class="br0">}</span>
 
<span class="kw1">@property</span> <span class="br0">(</span>nonatomic, weak<span class="br0">)</span> <span class="kw5">NSString</span> <span class="sy0">*</span>str3;
<span class="kw1">@property</span> <span class="br0">(</span>nonatomic, unsafe_unretained<span class="br0">)</span> <span class="kw5">NSString</span> <span class="sy0">*</span>str4;
 
<span class="kw1">@end</span>
</pre>
<p>The difference between <code>weak</code> (<code>__weak</code>) and <code>unsafe_unretained</code> (<code>__unsafe_unretaineda</code>) is that when the object the variable pointed to is being deallocated, whether the value of the variable is going to be changed or not. <code>weak</code> ones will be updated to <a href="/wiki/Null_pointer" title="Null pointer" class="mw-redirect"><code>nil</code></a> and the <code>unsafe_unretained</code> one will be left unchanged, as a <a href="/wiki/Dangling_pointer" title="Dangling pointer">dangling pointer</a>. The <code>weak</code> references is added to Objective-C since <a href="/wiki/Mac_OS_X_Lion" title="Mac OS X Lion">Mac OS X 10.7 "Lion"</a> and <a href="/wiki/IOS_5" title="IOS 5">iOS 5</a>, together with <a href="/wiki/Xcode" title="Xcode">Xcode</a> 4.1 (4.2 for iOS), and only when using ARC. Older versions of Mac OS X, iOS, and GNUstep support only <code>unsafe_unretained</code> references as weak ones.</p>
<h3><span class="mw-headline" id="Vala">Vala</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Weak_reference&amp;action=edit&amp;section=9" title="Edit section: Vala">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>WHATSON? 66d8eca0-99a1-4d79-901a-023917509d11</p>
<pre class="de1">
<span class="kw4">class</span> Node <span class="br0">{</span>
    <span class="kw1">public</span> <span class="kw3">weak</span> Node prev<span class="sy0">;</span> <span class="co1">// a weak reference is used to avoid circular references between nodes of a list</span>
    <span class="kw1">public</span> Node next<span class="sy0">;</span>
<span class="br0">}</span>
</pre>
<h2><span class="mw-headline" id="See_also">See also</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Weak_reference&amp;action=edit&amp;section=10" title="Edit section: See also">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul>
<li><a href="/wiki/Soft_reference" title="Soft reference">Soft reference</a></li>
<li><a href="/wiki/Phantom_reference" title="Phantom reference">Phantom reference</a></li>
<li><a href="/wiki/Circular_reference" title="Circular reference">Circular reference</a></li>
<li><a href="/wiki/Ephemeron" title="Ephemeron">Ephemeron</a></li>
</ul>
<h2><span class="mw-headline" id="Notes">Notes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Weak_reference&amp;action=edit&amp;section=11" title="Edit section: Notes">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><b><a href="#cite_ref-1">^</a></b></span> <span class="reference-text"><a rel="nofollow" class="external text" href="https://docs.python.org/3/library/weakref.html">8.8. weakref — Weak references</a>, <a rel="nofollow" class="external text" href="https://docs.python.org/3/library/index.html">The Python Standard Library</a></span></li>
<li id="cite_note-2"><span class="mw-cite-backlink"><b><a href="#cite_ref-2">^</a></b></span> <span class="reference-text"><a rel="nofollow" class="external text" href="https://developer.apple.com/library/mac/documentation/Cocoa/Conceptual/MemoryMgmt/Articles/mmPractical.html">Practical Memory Management</a></span></li>
<li id="cite_note-3"><span class="mw-cite-backlink"><b><a href="#cite_ref-3">^</a></b></span> <span class="reference-text"><span class="citation web">Nicholas, Ethan (May 4, 2006). <a rel="nofollow" class="external text" href="http://weblogs.java.net/blog/2006/05/04/understanding-weak-references">"Understanding Weak References"</a>. <a rel="nofollow" class="external text" href="http://www.java.net/about-javanet">java.net</a><span class="reference-accessdate">. Retrieved October 1, 2010</span>.</span><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AWeak+reference&amp;rft.aufirst=Ethan&amp;rft.aulast=Nicholas&amp;rft.au=Nicholas%2C+Ethan&amp;rft.btitle=Understanding+Weak+References&amp;rft.date=May+4%2C+2006&amp;rft.genre=book&amp;rft_id=http%3A%2F%2Fweblogs.java.net%2Fblog%2F2006%2F05%2F04%2Funderstanding-weak-references&amp;rft.pub=%5Bhttp%3A%2F%2Fwww.java.net%2Fabout-javanet+java.net%5D&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;"> </span></span></span></li>
<li id="cite_note-FOOTNOTEGoldshteinZurbalevFlatow2012.5Bhttp:.2F.2Fbooks.google.com.2Fbooks.3Fid.3DD3J58cs-i44C.26pg.3DPA131.26q.3Dresurrection.23v.3Donepage.26q.3Dresurrection_131.5D-4"><span class="mw-cite-backlink"><b><a href="#cite_ref-FOOTNOTEGoldshteinZurbalevFlatow2012.5Bhttp:.2F.2Fbooks.google.com.2Fbooks.3Fid.3DD3J58cs-i44C.26pg.3DPA131.26q.3Dresurrection.23v.3Donepage.26q.3Dresurrection_131.5D_4-0">^</a></b></span> <span class="reference-text"><a href="#CITEREFGoldshteinZurbalevFlatow2012">Goldshtein, Zurbalev &amp; Flatow 2012</a>, p. <a rel="nofollow" class="external text" href="http://books.google.com/books?id=D3J58cs-i44C&amp;pg=PA131&amp;q=resurrection#v=onepage&amp;q=resurrection">131</a>.</span></li>
<li id="cite_note-5"><span class="mw-cite-backlink"><b><a href="#cite_ref-5">^</a></b></span> <span class="reference-text">weblogs.java.net <a rel="nofollow" class="external text" href="http://weblogs.java.net/blog/2006/05/04/understanding-weak-references">Java Examples</a></span></li>
</ol>
<ul>
<li><span class="citation book">Goldshtein, Sasha; Zurbalev, Dima; Flatow, Ido (2012). <a rel="nofollow" class="external text" href="http://www.apress.com/9781430244585"><i>Pro .NET Performance: Optimize Your C# Applications</i></a>. Apress. <a href="/wiki/International_Standard_Book_Number" title="International Standard Book Number">ISBN</a> <a href="/wiki/Special:BookSources/978-1-4302-4458-5" title="Special:BookSources/978-1-4302-4458-5">978-1-4302-4458-5</a>.</span><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AWeak+reference&amp;rft.aufirst=Sasha&amp;rft.au=Flatow%2C+Ido&amp;rft.au=Goldshtein%2C+Sasha&amp;rft.aulast=Goldshtein&amp;rft.au=Zurbalev%2C+Dima&amp;rft.btitle=Pro+.NET+Performance%3A+Optimize+Your+C%23+Applications&amp;rft.date=2012&amp;rft.genre=book&amp;rft_id=http%3A%2F%2Fwww.apress.com%2F9781430244585&amp;rft.isbn=978-1-4302-4458-5&amp;rft.pub=Apress&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;"> </span></span> <span class="plainlinks noprint" style="font-size:smaller"><a class="external text" href="//en.wikipedia.org/w/index.php?title=Template:Cite_isbn/978143024459&amp;action=edit">edit</a></span></li>
</ul>
<h2><span class="mw-headline" id="External_links">External links</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Weak_reference&amp;action=edit&amp;section=12" title="Edit section: External links">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="C.2B.2B">C++</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Weak_reference&amp;action=edit&amp;section=13" title="Edit section: C++">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul>
<li><a rel="nofollow" class="external text" href="http://www.boost.org/doc/libs/1_48_0/libs/smart_ptr/weak_ptr.htm">Boost 1.48 Reference</a></li>
</ul>
<h3><span class="mw-headline" id="Java_2">Java</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Weak_reference&amp;action=edit&amp;section=14" title="Edit section: Java">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul>
<li><a rel="nofollow" class="external text" href="http://www.pawlan.com/monica/articles/refobjs/">Java developer article: 'Reference Objects and Garbage Collection'</a></li>
</ul>
<p><span class="citation web">Nicholas, Ethan (May 4, 2006). <a rel="nofollow" class="external text" href="http://weblogs.java.net/blog/2006/05/04/understanding-weak-references">"Understanding Weak References"</a>. <a rel="nofollow" class="external text" href="http://www.java.net/about-javanet">java.net</a><span class="reference-accessdate">. Retrieved October 1, 2010</span>.</span><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AWeak+reference&amp;rft.aufirst=Ethan&amp;rft.aulast=Nicholas&amp;rft.au=Nicholas%2C+Ethan&amp;rft.btitle=Understanding+Weak+References&amp;rft.date=May+4%2C+2006&amp;rft.genre=book&amp;rft_id=http%3A%2F%2Fweblogs.java.net%2Fblog%2F2006%2F05%2F04%2Funderstanding-weak-references&amp;rft.pub=%5Bhttp%3A%2F%2Fwww.java.net%2Fabout-javanet+java.net%5D&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;"> </span></span></p>
<ul>
<li><a rel="nofollow" class="external text" href="http://rcache.sourceforge.net/">RCache - Java Library for weak/soft reference based cache</a></li>
<li><a rel="nofollow" class="external text" href="http://www.ibm.com/developerworks/java/library/j-jtp11225/">Java theory and practice: Plugging memory leaks with weak references</a></li>
</ul>
<h3><span class="mw-headline" id="Python">Python</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Weak_reference&amp;action=edit&amp;section=15" title="Edit section: Python">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<ul>
<li><a rel="nofollow" class="external free" href="https://docs.python.org/2/library/weakref.html">https://docs.python.org/2/library/weakref.html</a></li>
<li>Fred L. Drake, Jr., <i><a rel="nofollow" class="external text" href="https://www.python.org/dev/peps/pep-0205/">PEP 205: Weak References</a></i>, Python Enhancement Proposal, January 2001.</li>
</ul>
<h3><span class="mw-headline" id="Shell">Shell</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Weak_reference&amp;action=edit&amp;section=16" title="Edit section: Shell">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><a rel="nofollow" class="external free" href="http://www.chinaunix.net/old_jh/24/686286.html">http://www.chinaunix.net/old_jh/24/686286.html</a></p>
<ul>
<li class="nv-view"><a href="/wiki/Template:Memory_management_navbox" title="Template:Memory management navbox"><span title="View this template" style=";;background:none transparent;border:none;;">v</span></a></li>
<li class="nv-talk"><a href="/wiki/Template_talk:Memory_management_navbox" title="Template talk:Memory management navbox"><span title="Discuss this template" style=";;background:none transparent;border:none;;">t</span></a></li>
<li class="nv-edit"><a class="external text" href="//en.wikipedia.org/w/index.php?title=Template:Memory_management_navbox&amp;action=edit"><span title="Edit this template" style=";;background:none transparent;border:none;;">e</span></a></li>
</ul>
<ul>
<li><a href="/wiki/Memory_management_(operating_systems)" title="Memory management (operating systems)">Memory management as a function of an operating system</a></li>
</ul>
<ul>
<li><a href="/wiki/Static_memory_allocation" title="Static memory allocation">Static memory allocation</a></li>
<li><a href="/wiki/C_dynamic_memory_allocation" title="C dynamic memory allocation">C dynamic memory allocation</a></li>
<li><a href="/wiki/New_(C%2B%2B)" title="New (C++)">new (C++)</a></li>
<li><a href="/wiki/Delete_(C%2B%2B)" title="Delete (C++)">delete (C++)</a></li>
</ul>
<ul>
<li><a href="/wiki/Demand_paging" title="Demand paging">Demand paging</a></li>
<li><a href="/wiki/Page_table" title="Page table">Page table</a></li>
<li><a href="/wiki/Paging" title="Paging">Paging</a></li>
</ul>
<ul>
<li><a href="/wiki/Memory_management_unit" title="Memory management unit">Memory management unit</a></li>
<li><a href="/wiki/Translation_lookaside_buffer" title="Translation lookaside buffer">Translation lookaside buffer</a></li>
</ul>
<ul>
<li><a href="/wiki/Boehm_garbage_collector" title="Boehm garbage collector">Boehm garbage collector</a></li>
<li><a href="/wiki/Finalizer" title="Finalizer">Finalizer</a></li>
<li><a href="/wiki/Garbage_(computer_science)" title="Garbage (computer science)">Garbage</a></li>
<li><a href="/wiki/Mark-compact_algorithm" title="Mark-compact algorithm">Mark-compact algorithm</a></li>
<li><a href="/wiki/Reference_counting" title="Reference counting">Reference counting</a></li>
<li><a href="/wiki/Strong_reference" title="Strong reference">Strong reference</a></li>
<li><strong class="selflink">Weak reference</strong></li>
</ul>
<ul>
<li><a href="/wiki/Protected_mode" title="Protected mode">Protected mode</a></li>
<li><a href="/wiki/Real_mode" title="Real mode">Real mode</a></li>
<li><a href="/wiki/Virtual_8086_mode" title="Virtual 8086 mode">Virtual 8086 mode</a></li>
<li><a href="/wiki/X86_memory_segmentation" title="X86 memory segmentation">x86 memory segmentation</a></li>
</ul>
<ul>
<li><a href="/wiki/Buffer_overflow" title="Buffer overflow">Buffer overflow</a></li>
<li><a href="/wiki/Buffer_over-read" title="Buffer over-read">Buffer over-read</a></li>
<li><a href="/wiki/Dangling_pointer" title="Dangling pointer">Dangling pointer</a></li>
<li><a href="/wiki/Stack_overflow" title="Stack overflow">Stack overflow</a></li>
</ul>
<ul>
<li><a href="/wiki/Fragmentation_(computing)" title="Fragmentation (computing)">Fragmentation</a></li>
<li><a href="/wiki/Memory_leak" title="Memory leak">Memory leak</a></li>
<li><a href="/wiki/Unreachable_memory" title="Unreachable memory">Unreachable memory</a></li>
</ul>
<ul>
<li><a href="/wiki/Automatic_variable" title="Automatic variable">Automatic variable</a></li>
<li><a href="/wiki/International_Symposium_on_Memory_Management" title="International Symposium on Memory Management">International Symposium on Memory Management</a></li>
<li><a href="/wiki/Region-based_memory_management" title="Region-based memory management">Region-based memory management</a></li>
</ul>
