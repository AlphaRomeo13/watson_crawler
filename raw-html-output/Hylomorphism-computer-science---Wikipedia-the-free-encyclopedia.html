<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Hylomorphism (computer science)</span></h1>
<p>In <a href="/wiki/Computer_science" title="Computer science">computer science</a>, and in particular <a href="/wiki/Functional_programming" title="Functional programming">functional programming</a>, a <b>hylomorphism</b> is a <a href="/wiki/Recursion_(computer_science)" title="Recursion (computer science)">recursive</a> function, corresponding to the <a href="/wiki/Function_composition" title="Function composition">composition</a> of an <a href="/wiki/Anamorphism" title="Anamorphism">anamorphism</a> (which first builds a set of results; also known as 'unfolding') and a <a href="/wiki/Catamorphism" title="Catamorphism">catamorphism</a> (which then <a href="/wiki/Fold_(higher-order_function)" title="Fold (higher-order function)">folds</a> these results into a final <a href="/wiki/Return_value" title="Return value" class="mw-redirect">return value</a>). Fusion of these two recursive computations into a single recursive pattern then avoids building the intermediate data structure. This is a particular form of the optimizing program transformation techniques collectively known as <a href="/wiki/Deforestation_(computer_science)" title="Deforestation (computer science)">deforestation</a>. A related type of function is a <b>metamorphism</b>, which is a catamorphism followed by an anamorphism.</p>
<p></p>
<h2>Contents</h2>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Formal_definition"><span class="tocnumber">1</span> <span class="toctext">Formal definition</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Notation"><span class="tocnumber">1.1</span> <span class="toctext">Notation</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#Hylomorphisms_in_practice"><span class="tocnumber">2</span> <span class="toctext">Hylomorphisms in practice</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Lists"><span class="tocnumber">2.1</span> <span class="toctext">Lists</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Trees"><span class="tocnumber">2.2</span> <span class="toctext">Trees</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-6"><a href="#See_also"><span class="tocnumber">3</span> <span class="toctext">See also</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#References"><span class="tocnumber">4</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#External_links"><span class="tocnumber">5</span> <span class="toctext">External links</span></a></li>
</ul>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Notation"><span class="tocnumber">1.1</span> <span class="toctext">Notation</span></a></li>
</ul>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#Lists"><span class="tocnumber">2.1</span> <span class="toctext">Lists</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Trees"><span class="tocnumber">2.2</span> <span class="toctext">Trees</span></a></li>
</ul>
<p></p>
<h2><span class="mw-headline" id="Formal_definition">Formal definition</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Hylomorphism_(computer_science)&amp;action=edit&amp;section=1" title="Edit section: Formal definition">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>A hylomorphism <img class="mwe-math-fallback-image-inline tex" alt="h : A \rightarrow C" src="//upload.wikimedia.org/math/5/7/a/57a5acaa77b11cd1769afd42770baca4.png"> can be defined in terms of its separate anamorphic and catamorphic parts.</p>
<p>The anamorphic part can be defined in terms of a <a href="/wiki/Arity" title="Arity">unary</a> function <img class="mwe-math-fallback-image-inline tex" alt="g : A \rightarrow B \times A" src="//upload.wikimedia.org/math/5/4/c/54c9cb4eab98815dce5d09861702c32e.png"> defining the list of elements in <img class="mwe-math-fallback-image-inline tex" alt="B" src="//upload.wikimedia.org/math/9/d/5/9d5ed678fe57bcca610140957afab571.png"> by repeated application (<i>"unfolding"</i>), and a <a href="/wiki/Predicate_(mathematics)" title="Predicate (mathematics)" class="mw-redirect">predicate</a> <img class="mwe-math-fallback-image-inline tex" alt="p : A \rightarrow \text{Boolean}" src="//upload.wikimedia.org/math/9/9/f/99fe310c34acb17f2295960e1e0b8134.png"> providing the terminating condition.</p>
<p>The catamorphic part can be defined as a combination of an initial value <img class="mwe-math-fallback-image-inline tex" alt="c \in C" src="//upload.wikimedia.org/math/d/a/c/dac3bbd0caf8370389cce23922be1be0.png"> for the fold and a binary <a href="/wiki/Operation_(mathematics)" title="Operation (mathematics)">operator</a> <img class="mwe-math-fallback-image-inline tex" alt="\oplus : B \times C \rightarrow C" src="//upload.wikimedia.org/math/7/e/b/7eb54aee06d822fb0adfe7dea341e83a.png"> used to perform the fold.</p>
<p>Thus a hylomorphism</p>
<p>(where <img class="mwe-math-fallback-image-inline tex" alt="(b, a') = ga" src="//upload.wikimedia.org/math/6/2/f/62f3bf53ccdbe5a18b77f5096132902d.png">) may be defined (assuming appropriate definitions of <img class="mwe-math-fallback-image-inline tex" alt="p" src="//upload.wikimedia.org/math/8/3/8/83878c91171338902e0fe0fb97a8c47a.png"> &amp; <img class="mwe-math-fallback-image-inline tex" alt="g" src="//upload.wikimedia.org/math/b/2/f/b2f5ff47436671b6e533d8dc3614845d.png">).</p>
<h3><span class="mw-headline" id="Notation">Notation</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Hylomorphism_(computer_science)&amp;action=edit&amp;section=2" title="Edit section: Notation">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>An abbreviated notation for the above hylomorphism is <img class="mwe-math-fallback-image-inline tex" alt="h = [\![(c, \oplus),(g, p)]\!]" src="//upload.wikimedia.org/math/7/8/b/78bb0df139cf159d31584f873e712c4b.png">.</p>
<h2><span class="mw-headline" id="Hylomorphisms_in_practice">Hylomorphisms in practice</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Hylomorphism_(computer_science)&amp;action=edit&amp;section=3" title="Edit section: Hylomorphisms in practice">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="Lists">Lists</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Hylomorphism_(computer_science)&amp;action=edit&amp;section=4" title="Edit section: Lists">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p><a href="/wiki/List_(computing)" title="List (computing)" class="mw-redirect">Lists</a> are common data structures as they naturally reflect linear computational processes. These processes arise in repeated (<a href="/wiki/Iteration" title="Iteration">iterative</a>) function calls. Therefore it is sometimes necessary to generate a temporary list of intermediate results before reducing this list to a single result.</p>
<p>One example of a commonly encountered hylomorphism is the canonical <a href="/wiki/Factorial" title="Factorial">factorial</a> function.</p>
<p>WHATSON? 8cd06901-f1f8-41d6-bbca-833a63f65176</p>
<pre class="de1">
factorial <span class="sy0">::</span> <span class="kw4">Integer</span> <span class="sy0">-&gt;</span> <span class="kw4">Integer</span>
factorial n
  <span class="sy0">|</span> n <span class="sy0">==</span> <span class="nu0">0</span> <span class="sy0">=</span> <span class="nu0">1</span>
  <span class="sy0">|</span> n <span class="sy0">&gt;</span> <span class="nu0">0</span> <span class="sy0">=</span> n <span class="sy0">*</span> factorial <span class="br0">(</span>n <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">)</span>
</pre>
<p>In the previous example (written in <a href="/wiki/Haskell_(programming_language)" title="Haskell (programming language)">Haskell</a>, a <a href="/wiki/Purely_functional" title="Purely functional">purely functional</a> <a href="/wiki/Programming_language" title="Programming language">programming language</a>) it can be seen that this function, applied to any given valid input, will generate a linear call tree <a href="/wiki/Isomorphism" title="Isomorphism">isomorphic</a> to a list. For example, given <i>n</i> = 5 it will produce the following:</p>
<p>WHATSON? 3467e431-d570-4b98-9f18-595d859fa16d</p>
<pre>
factorial 5 = 5 * (factorial 4) = 120
factorial 4 = 4 * (factorial 3) = 24
factorial 3 = 3 * (factorial 2) = 6
factorial 2 = 2 * (factorial 1) = 2
factorial 1 = 1 * (factorial 0) = 1
factorial 0 = 1
</pre>
<p>In this example, the anamorphic part of the process is the generation of the call tree which is isomorphic to the list <code>[1, 1, 2, 3, 4, 5]</code>. The catamorphism, then, is the calculation of the <a href="/wiki/Product_(mathematics)" title="Product (mathematics)">product</a> of the <a href="/wiki/Element_(mathematics)" title="Element (mathematics)">elements</a> of this list. Thus, in the notation given above, the factorial function may be written <img class="mwe-math-fallback-image-inline tex" alt="\text{factorial} = [\![(1,\times),(g, p)]\!]" src="//upload.wikimedia.org/math/d/0/a/d0af47ab3f0b9db0edf4798ee12c3132.png"> where <img class="mwe-math-fallback-image-inline tex" alt="g\ n = (n, n - 1)" src="//upload.wikimedia.org/math/0/d/0/0d0a543e37ca5831884c69da7e48f8f9.png"> and <img class="mwe-math-fallback-image-inline tex" alt="p\ n = (n = 0)" src="//upload.wikimedia.org/math/1/6/4/164c475dba7dabb1ed247540ed1b5924.png">.</p>
<h3><span class="mw-headline" id="Trees">Trees</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Hylomorphism_(computer_science)&amp;action=edit&amp;section=5" title="Edit section: Trees">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>However, the term 'hylomorphism' does not apply solely to functions acting upon isomorphisms of lists. For example, a hylomorphism may also be defined by generating a non-linear call tree which is then collapsed. An example of such a function is the function to generate the <i>n</i><sup>th</sup> <a href="/wiki/Term_(mathematics)" title="Term (mathematics)" class="mw-redirect">term</a> of the <a href="/wiki/Fibonacci_sequence" title="Fibonacci sequence" class="mw-redirect">Fibonacci sequence</a>.</p>
<p>WHATSON? 0961f26e-a549-4bfd-aa10-b94a55a8d4b2</p>
<pre class="de1">
 fibonacci <span class="sy0">::</span> <span class="kw4">Integer</span> <span class="sy0">-&gt;</span> <span class="kw4">Integer</span>
 fibonacci n
   <span class="sy0">|</span> n <span class="sy0">==</span> <span class="nu0">0</span> <span class="sy0">=</span> <span class="nu0">0</span>
   <span class="sy0">|</span> n <span class="sy0">==</span> <span class="nu0">1</span> <span class="sy0">=</span> <span class="nu0">1</span>
   <span class="sy0">|</span> n <span class="sy0">&gt;</span> <span class="nu0">1</span> <span class="sy0">=</span> fibonacci <span class="br0">(</span>n <span class="sy0">-</span> <span class="nu0">2</span><span class="br0">)</span> <span class="sy0">+</span> fibonacci <span class="br0">(</span>n <span class="sy0">-</span> <span class="nu0">1</span><span class="br0">)</span>
</pre>
<p>This function, again applied to any valid input, will generate a call tree which is non-linear. In the example on the right, the call tree generated by applying the <code>fibonacci</code> function to the input <code>4</code>.</p>
<p>This time, the anamorphism is the generation of the call tree isomorphic to the tree with <a href="/wiki/Leaf_node" title="Leaf node" class="mw-redirect">leaf nodes</a> <code>0, 1, 1, 0, 1</code> and the catamorphism the <a href="/wiki/Summation" title="Summation">summation</a> of these leaf nodes.</p>
<h2><span class="mw-headline" id="See_also">See also</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Hylomorphism_(computer_science)&amp;action=edit&amp;section=6" title="Edit section: See also">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul>
<li><a href="/wiki/Apomorphism" title="Apomorphism">Apomorphism</a></li>
<li><a href="/wiki/Paramorphism" title="Paramorphism">Paramorphism</a></li>
<li><a href="/wiki/Morphism" title="Morphism">Morphism</a></li>
</ul>
<h2><span class="mw-headline" id="References">References</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Hylomorphism_(computer_science)&amp;action=edit&amp;section=7" title="Edit section: References">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul>
<li><span class="citation web">Erik Meijer, Maarten Fokkinga, Ross Paterson (1991). <a rel="nofollow" class="external text" href="http://citeseer.ist.psu.edu/cachedpage/214108/1">"Functional Programming with Bananas, Lenses, Envelopes and Barbed Wire"</a>. pp. 4, 5.</span><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3AHylomorphism+%28computer+science%29&amp;rft.au=Erik+Meijer%2C+Maarten+Fokkinga%2C+Ross+Paterson&amp;rft.aulast=Erik+Meijer%2C+Maarten+Fokkinga%2C+Ross+Paterson&amp;rft.btitle=Functional+Programming+with+Bananas%2C+Lenses%2C+Envelopes+and+Barbed+Wire&amp;rft.date=1991&amp;rft.genre=book&amp;rft_id=http%3A%2F%2Fciteseer.ist.psu.edu%2Fcachedpage%2F214108%2F1&amp;rft.pages=4%2C+5&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;"> </span></span></li>
</ul>
<h2><span class="mw-headline" id="External_links">External links</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Hylomorphism_(computer_science)&amp;action=edit&amp;section=8" title="Edit section: External links">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul>
<li><a rel="nofollow" class="external text" href="http://ulissesaraujo.wordpress.com/2009/04/09/hylomorphisms-in-haskell/">Hylomorphisms in Haskell</a></li>
<li><a rel="nofollow" class="external text" href="http://ulissesaraujo.wordpress.com/2009/04/09/more-hylomorphisms-in-haskell/">More Hylomorphisms in Haskell</a></li>
</ul>
