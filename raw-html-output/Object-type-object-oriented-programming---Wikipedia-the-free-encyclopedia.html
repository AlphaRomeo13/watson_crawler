<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Object type (object-oriented programming)</span></h1>
<p>In <a href="/wiki/Computer_science" title="Computer science">computer science</a>, an <b>object type</b> (a.k.a. <b>wrapping object</b>) is a <a href="/wiki/Datatype" title="Datatype" class="mw-redirect">datatype</a> which is used in <a href="/wiki/Object-oriented_programming" title="Object-oriented programming">object-oriented programming</a> to <a href="/wiki/Wrapper_pattern" title="Wrapper pattern" class="mw-redirect">wrap</a> a non-object type to make it look like a <a href="/wiki/Reference_type" title="Reference type">dynamic</a> <a href="/wiki/Object_(computer_science)" title="Object (computer science)">object</a>.<sup class="noprint Inline-Template Template-Fact" style="white-space:nowrap;">[<i><a href="/wiki/Wikipedia:Citation_needed" title="Wikipedia:Citation needed"><span title="This claim needs references to reliable sources. (August 2009)">citation needed</span></a></i>]</sup></p>
<p>Some <a href="/wiki/Object-oriented_programming_language" title="Object-oriented programming language" class="mw-redirect">object-oriented programming languages</a> make a distinction between <a href="/wiki/Reference_type" title="Reference type">reference</a> and <a href="/wiki/Value_type" title="Value type">value types</a>, often referred to as objects and non-objects on platforms where complex value types don't exist, for reasons such as runtime efficiency and syntax or semantic issues. For example, <a href="/wiki/Java_(programming_language)" title="Java (programming language)">Java</a> has <a href="/wiki/Primitive_wrapper_class" title="Primitive wrapper class">primitive wrapper classes</a> corresponding to each <a href="/wiki/Primitive_type" title="Primitive type" class="mw-redirect">primitive type</a>: <span class="mw-geshi java source-java"><span class="kw3">Integer</span></span> and <span class="mw-geshi java source-java"><span class="kw4">int</span></span>, <span class="mw-geshi java source-java"><span class="kw3">Character</span></span> and <span class="mw-geshi java source-java"><span class="kw4">char</span></span>, <span class="mw-geshi java source-java"><span class="kw3">Float</span></span> and <span class="mw-geshi java source-java"><span class="kw4">float</span></span>, etc. Languages like <a href="/wiki/C%2B%2B" title="C++">C++</a> have little or no notion of <a href="/wiki/Reference_type" title="Reference type">reference type</a>; thus, the use of object type is of little interest.</p>
<p></p>
<h2>Contents</h2>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Boxing"><span class="tocnumber">1</span> <span class="toctext">Boxing</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Autoboxing"><span class="tocnumber">1.1</span> <span class="toctext">Autoboxing</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Unboxing"><span class="tocnumber">1.2</span> <span class="toctext">Unboxing</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="#References"><span class="tocnumber">2</span> <span class="toctext">References</span></a></li>
</ul>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Autoboxing"><span class="tocnumber">1.1</span> <span class="toctext">Autoboxing</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="#Unboxing"><span class="tocnumber">1.2</span> <span class="toctext">Unboxing</span></a></li>
</ul>
<p></p>
<h2><span class="mw-headline" id="Boxing">Boxing</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Object_type_(object-oriented_programming)&amp;action=edit&amp;section=1" title="Edit section: Boxing">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Boxing, otherwise known as wrapping, is the process of placing a primitive type within an object so that the primitive can be used as a reference object. For example, <a href="/wiki/List_(computing)" title="List (computing)" class="mw-redirect">lists</a> may have certain <a href="/wiki/Method_(computer_science)" title="Method (computer science)" class="mw-redirect">methods</a> which <a href="/wiki/Array_data_type" title="Array data type">arrays</a> might not, but the list might also require that all of its members be dynamic objects. In this case, the added functionality of the list might be unavailable to a simple array of numbers. For a more concrete example, in Java, a <code><a rel="nofollow" class="external text" href="http://docs.oracle.com/javase/8/docs/api/java/util/LinkedList.html">LinkedList</a></code> can change its size, but an array must have a fixed size. One might desire to have a <span class="mw-geshi java source-java"><span class="kw3">LinkedList</span></span> of <span class="mw-geshi java source-java"><span class="kw4">int</span></span>s, but the <span class="mw-geshi java source-java"><span class="kw3">LinkedList</span></span> class only lists references to dynamic objects â€” it cannot list primitive types, which are value types.</p>
<p>To circumvent this, <span class="mw-geshi java source-java"><span class="kw4">int</span></span>s can be boxed into <span class="mw-geshi java source-java"><span class="kw3">Integer</span></span>s, which are dynamic objects, and then added to a <span class="mw-geshi java source-java"><span class="kw3">LinkedList</span></span> of <span class="mw-geshi java source-java"><span class="kw3">Integer</span></span>s. (Using <a href="/wiki/Generic_programming" title="Generic programming">generic</a> parameterized types introduced in <a href="/wiki/Java_Platform,_Standard_Edition" title="Java Platform, Standard Edition">J2SE</a> 5.0, this type is represented as <span class="mw-geshi java source-java">LinkedList<span class="sy0">&lt;</span>Integer<span class="sy0">&gt;</span></span>.) On the other hand, <a href="/wiki/C_Sharp_(programming_language)" title="C Sharp (programming language)">C#</a> has no primitive wrapper classes, but allows boxing of any value type, returning a generic <span class="mw-geshi csharp source-csharp"><span class="kw4">Object</span></span> reference.</p>
<p>The boxed object is always a copy of the value object, and is usually <a href="/wiki/Immutable_object" title="Immutable object">immutable</a>. Unboxing the object also returns a copy of the stored value. Note that repeated boxing and unboxing of objects can have a severe performance impact, since it <a href="/wiki/Dynamic_memory_allocation" title="Dynamic memory allocation" class="mw-redirect">dynamically allocates</a> new objects and then makes them eligible for <a href="/wiki/Garbage_collection_(computer_science)" title="Garbage collection (computer science)">Garbage collection</a>.</p>
<p>There is a direct equivalence between an unboxed primitive type and a reference to an immutable, boxed object type. In fact, it is possible to substitute all the primitive types in a program with boxed object types. Whereas assignment from one primitive to another will copy its value, assignment from one reference to a boxed object to another will copy the reference value to refer to the same object as the first reference. However, this will not cause any problems, because the objects are immutable, so there is semantically no real difference between two references to the same object or to different objects (unless you look at physical equality). For all operations other than assignment, such as arithmetic, comparison, and logical operators, one can unbox the boxed type, perform the operation, and re-box the result as needed. Thus, it is possible to not store primitive types at all.</p>
<h3><span class="mw-headline" id="Autoboxing">Autoboxing</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Object_type_(object-oriented_programming)&amp;action=edit&amp;section=2" title="Edit section: Autoboxing">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Autoboxing is the term for getting a reference type out of a value type just through <a href="/wiki/Type_conversion" title="Type conversion">type conversion</a> (either implicit or explicit). The compiler automatically supplies the extra source code which creates the object.</p>
<p>For example, in versions of Java prior to J2SE 5.0, the following code did not compile:</p>
<p>WHATSON? a50e838f-5d60-40b3-9732-09f30a8ee686</p>
<pre class="de1">
<span class="kw3">Integer</span> i <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">Integer</span><span class="br0">(</span><span class="nu0">9</span><span class="br0">)</span><span class="sy0">;</span>
<span class="kw3">Integer</span> l <span class="sy0">=</span> <span class="nu0">9</span><span class="sy0">;</span> <span class="co1">// error in versions prior to 5.0!</span>
</pre>
<p>Compilers prior to 5.0 would not accept the last line. <span class="mw-geshi java source-java"><span class="kw3">Integer</span></span>s are reference objects, on the surface no different from <span class="mw-geshi java source-java"><span class="kw3">List</span></span>, <span class="mw-geshi java source-java"><span class="kw3">Object</span></span>, and so forth. To convert from an <tt>int</tt> to an Integer, one had to "manually" instantiate the Integer object. As of J2SE 5.0, the compiler will accept the last line, and automatically transform it so that an Integer object is created to store the value <tt>9</tt>.<sup id="cite_ref-1" class="reference"><a href="#cite_note-1"><span>[</span>1<span>]</span></a></sup> This means that, from J2SE 5.0 on, something like <tt>Integer c = a + b;</tt>, where <tt>a</tt> and <tt>b</tt> are Integers themselves, will compile now - a and b are unboxed, the integer values summed up, and the result is autoboxed into a new Integer, which is finally stored inside variable <tt>c</tt>. Note that the equality operators cannot be used this way, since the equality operators are already defined for reference types, for equality of the references; to test for equality of the value in a boxed type, one must still manually unbox them and compare the primitives, or use the <tt>equals(Object)</tt> method.</p>
<p>Another example: J2SE 5.0 allows the programmer to treat a collection (such as a <span class="mw-geshi java source-java"><span class="kw3">LinkedList</span></span>) as if it contained <tt>int</tt> values instead of <tt>Integer</tt> objects. This does not contradict what was said above: the collection still only contains references to dynamic objects, and it cannot list primitive types. It can <b>not</b> be a <tt>List&lt;int&gt;</tt>, but it must be a <tt>List&lt;Integer&gt;</tt> instead. However, the compiler automatically transforms the code so that the list will "silently" receive objects, while the source code only mentions primitive values. For example, the programmer can now write <tt>list.add(3);</tt> and think as if the int <tt>3</tt> were added to the list; but, the compiler will have actually transformed the line into <tt>list.add(new Integer(3))</tt>.</p>
<h3><span class="mw-headline" id="Unboxing">Unboxing</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Object_type_(object-oriented_programming)&amp;action=edit&amp;section=3" title="Edit section: Unboxing">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Unboxing refers to getting the value which is associated to a given object, just through type conversion (either implicit or explicit). The compiler automatically supplies the extra source code which retrieves the value out of that object, either by invoking some method on that object, or by other means.</p>
<p>For example, in versions of Java prior to J2SE 5.0, the following code did not compile:</p>
<p>WHATSON? 7052754a-cb34-4257-b34b-852886980d9e</p>
<pre class="de1">
<span class="kw3">Integer</span> k <span class="sy0">=</span> <span class="kw1">new</span> <span class="kw3">Integer</span><span class="br0">(</span><span class="nu0">4</span><span class="br0">)</span><span class="sy0">;</span>
<span class="kw4">int</span> l <span class="sy0">=</span> k.<span class="me1">intValue</span><span class="br0">(</span><span class="br0">)</span><span class="sy0">;</span> <span class="co1">// always OK</span>
<span class="kw4">int</span> m <span class="sy0">=</span> k<span class="sy0">;</span>            <span class="co1">// would have been an error, but okay now - equivalent to previous line</span>
</pre>
<p>C# doesn't support automatic unboxing in the same meaning as Java, since it doesn't have a separate set of 'primitive types' and 'object types'. All types that have both primitive and object version in Java, are automatically implemented by the C# compiler as either primitive (value) types or object (reference) types.</p>
<p>In both languages, automatic boxing does not downcast automatically, i.e. the following code won't compile:</p>
<p>C#:</p>
<p>WHATSON? 044ebf2d-324d-4d54-9523-5b0b29ea4787</p>
<pre class="de1">
<span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">42</span><span class="sy0">;</span>
<span class="kw4">object</span> o <span class="sy0">=</span> i<span class="sy0">;</span>         <span class="co1">// box</span>
<span class="kw4">int</span> j <span class="sy0">=</span> o<span class="sy0">;</span>            <span class="co1">// unbox (ERROR)</span>
Console<span class="sy0">.</span><span class="me1">WriteLine</span><span class="br0">(</span>j<span class="br0">)</span><span class="sy0">;</span> <span class="co1">// unreachable line, author might have expected output "42"</span>
</pre>
<p>Java:</p>
<p>WHATSON? b44e182b-5613-44c7-904c-8b88f1389792</p>
<pre class="de1">
<span class="kw4">int</span> i <span class="sy0">=</span> <span class="nu0">42</span><span class="sy0">;</span>
<span class="kw3">Object</span> o <span class="sy0">=</span> i<span class="sy0">;</span>          <span class="co1">// box</span>
<span class="kw4">int</span> j <span class="sy0">=</span> o<span class="sy0">;</span>             <span class="co1">// unbox (ERROR)</span>
<span class="kw3">System</span>.<span class="me1">out</span>.<span class="me1">println</span><span class="br0">(</span>j<span class="br0">)</span><span class="sy0">;</span> <span class="co1">// unreachable line, author might have expected output "42"</span>
</pre>
<h2><span class="mw-headline" id="References">References</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Object_type_(object-oriented_programming)&amp;action=edit&amp;section=4" title="Edit section: References">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><b><a href="#cite_ref-1">^</a></b></span> <span class="reference-text"><a rel="nofollow" class="external text" href="http://java.sun.com/j2se/1.5.0/docs/guide/language/autoboxing.html">java.sun.com Java language guide entry on autoboxing</a></span></li>
</ol>
