<h1 id="firstHeading" class="firstHeading" lang="en"><span dir="auto">Persistence (computer science)</span></h1>
<p>In <a href="/wiki/Computer_science" title="Computer science">computer science</a>, <b>persistence</b> refers to the characteristic of <a href="/wiki/State_(computer_science)" title="State (computer science)">state</a> that outlives the <a href="/wiki/Process_(computing)" title="Process (computing)">process</a> that created it. Without this capability, <a href="/wiki/State_(computer_science)" title="State (computer science)">state</a> would only exist in <a href="/wiki/RAM" title="RAM" class="mw-redirect">RAM</a>, and would be lost when this RAM loses power, such as a computer shutdown.<sup id="cite_ref-1" class="reference"><a href="#cite_note-1"><span>[</span>1<span>]</span></a></sup></p>
<p>This is achieved in practice by storing the <a href="/wiki/State_(computer_science)" title="State (computer science)">state</a> as data in <a href="/wiki/Non-volatile_storage" title="Non-volatile storage" class="mw-redirect">non-volatile storage</a> such as a <a href="/wiki/Hard_drive" title="Hard drive" class="mw-redirect">hard drive</a> or <a href="/wiki/Flash_memory" title="Flash memory">flash memory</a>, most basically via <a href="/wiki/Serialization" title="Serialization">serialization</a> of the data to a storable format, and then saving the data to a file.</p>
<p>Picture editing programs or word processors, for example, achieve <a href="/wiki/State_(computer_science)" title="State (computer science)">state</a> persistence by saving their documents to files.</p>
<p></p>
<h2>Contents</h2>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Orthogonal_or_transparent_persistence"><span class="tocnumber">1</span> <span class="toctext">Orthogonal or transparent persistence</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Adoption"><span class="tocnumber">1.1</span> <span class="toctext">Adoption</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-3"><a href="#Persistence_techniques"><span class="tocnumber">2</span> <span class="toctext">Persistence techniques</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#System_images"><span class="tocnumber">2.1</span> <span class="toctext">System images</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Journals"><span class="tocnumber">2.2</span> <span class="toctext">Journals</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Dirty_writes"><span class="tocnumber">2.3</span> <span class="toctext">Dirty writes</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="#Persistence_layers"><span class="tocnumber">3</span> <span class="toctext">Persistence layers</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#System_prevalence"><span class="tocnumber">4</span> <span class="toctext">System prevalence</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Database_management_systems_.28DBMSs.29"><span class="tocnumber">5</span> <span class="toctext">Database management systems (DBMSs)</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Persistent_operating_systems"><span class="tocnumber">6</span> <span class="toctext">Persistent operating systems</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#References"><span class="tocnumber">7</span> <span class="toctext">References</span></a></li>
<li class="toclevel-1 tocsection-12"><a href="#See_also"><span class="tocnumber">8</span> <span class="toctext">See also</span></a></li>
</ul>
<ul>
<li class="toclevel-2 tocsection-2"><a href="#Adoption"><span class="tocnumber">1.1</span> <span class="toctext">Adoption</span></a></li>
</ul>
<ul>
<li class="toclevel-2 tocsection-4"><a href="#System_images"><span class="tocnumber">2.1</span> <span class="toctext">System images</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="#Journals"><span class="tocnumber">2.2</span> <span class="toctext">Journals</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Dirty_writes"><span class="tocnumber">2.3</span> <span class="toctext">Dirty writes</span></a></li>
</ul>
<p></p>
<h2><span class="mw-headline" id="Orthogonal_or_transparent_persistence">Orthogonal or transparent persistence</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Persistence_(computer_science)&amp;action=edit&amp;section=1" title="Edit section: Orthogonal or transparent persistence">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Persistence is said to be "<a href="/wiki/Orthogonality#Computer_science" title="Orthogonality">orthogonal</a>" or "transparent" when it is implemented as an intrinsic property of the execution environment of a program. An orthogonal persistence environment does not require any specific actions by programs running in it to retrieve or save their <a href="/wiki/State_(computer_science)" title="State (computer science)">state</a>.</p>
<p>Non-orthogonal persistence requires data to be written and read to and from storage using specific instructions in a program, resulting in the use of <i>persist</i> as a transitive verb: <i>On completion, the program persists the data</i>.</p>
<p>The advantage of orthogonal persistence environments is simpler and less error-prone programs.</p>
<h3><span class="mw-headline" id="Adoption">Adoption</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Persistence_(computer_science)&amp;action=edit&amp;section=2" title="Edit section: Adoption">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Orthogonal persistence is widely adopted in operating systems for <a href="/wiki/Hibernation_(computing)" title="Hibernation (computing)">hibernation</a> and in <a href="/wiki/Platform_virtualization" title="Platform virtualization" class="mw-redirect">platform virtualization</a> systems such as <a href="/wiki/VMware" title="VMware">VMware</a> and <a href="/wiki/VirtualBox" title="VirtualBox">VirtualBox</a> for state saving.</p>
<p>Research prototype languages such as <a href="/wiki/PS-algol" title="PS-algol">PS-algol</a>, <a href="/wiki/Napier88" title="Napier88">Napier88</a>, Fibonacci and pJama, successfully demonstrated the concepts along with the advantages to programmers. As Java developed, the more traditional mechanism of serialization and, later, <a href="/wiki/JAXB" title="JAXB" class="mw-redirect">JAXB</a> bindings, gave similar functionality to programmers. <a href="/wiki/Perl" title="Perl">Perl</a> has two well-defined interfaces for providing alternate semantics to fetches and stores on its basic data types, "tie" and "overload," both of which are often used to provide orthogonal interfaces to persistent storage methods.<sup class="noprint Inline-Template Template-Fact" style="white-space:nowrap;">[<i><a href="/wiki/Wikipedia:Citation_needed" title="Wikipedia:Citation needed"><span title="This claim needs references to reliable sources. (June 2013)">citation needed</span></a></i>]</sup></p>
<h2><span class="mw-headline" id="Persistence_techniques">Persistence techniques</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Persistence_(computer_science)&amp;action=edit&amp;section=3" title="Edit section: Persistence techniques">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<h3><span class="mw-headline" id="System_images">System images</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Persistence_(computer_science)&amp;action=edit&amp;section=4" title="Edit section: System images">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Using <a href="/wiki/System_image" title="System image">system images</a> is the simplest persistence strategy. Notebook <a href="/wiki/Hibernate_(OS_feature)" title="Hibernate (OS feature)" class="mw-redirect">hibernation</a> is an example of orthogonal persistence using a system image because it does not require any actions by the programs running on the machine. An example of non-orthogonal persistence using a system image is a simple text editing program executing specific instructions to save an entire document to a file.</p>
<p><b>Shortcomings</b>: State changes made to a system after its last image was saved are lost in the case of a system failure or shutdown. Saving an image for every single change would be too time-consuming for most systems, so images are not used as the single persistence technique for critical systems.</p>
<h3><span class="mw-headline" id="Journals">Journals</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Persistence_(computer_science)&amp;action=edit&amp;section=5" title="Edit section: Journals">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>Using journals is the second simplest persistence technique. Journaling is the process of storing events in a log before each one is applied to a system. Such logs are called journals.</p>
<p>On startup, the journal is read and each event is reapplied to the system, avoiding data loss in the case of system failure or shutdown.</p>
<p>The entire "Undo/Redo" history of user commands in a picture editing program, for example, when written to a file, constitutes a journal capable of recovering the state of an edited pictures at any point in time.</p>
<p>Journals are used by <a href="/wiki/Journaling_file_system" title="Journaling file system">journaling file systems</a>, <a href="/wiki/System_Prevalence" title="System Prevalence">prevalent systems</a> and <a href="/wiki/Database_management_system" title="Database management system" class="mw-redirect">database management systems</a> where they are also called "transaction logs" or "redo logs".</p>
<p><b>Shortcomings</b>: Journals are often combined with other persistence techniques so that the entire (potentially large) history of all system events does not have to be reapplied on system startup.</p>
<h3><span class="mw-headline" id="Dirty_writes">Dirty writes</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Persistence_(computer_science)&amp;action=edit&amp;section=6" title="Edit section: Dirty writes">edit</a><span class="mw-editsection-bracket">]</span></span></h3>
<p>This technique is the writing to storage of only those portions of system state that have been modified (are dirty) since their last write. Sophisticated document editing applications, for example, will use dirty writes to save only those portions of a document that were actually changed since the last save.</p>
<p><b>Shortcomings:</b> This technique requires state changes to be intercepted within a program. This is achieved in a non-transparent way by requiring specific storage-API calls or in a transparent way with automatic <a href="/wiki/Program_transformation" title="Program transformation">program transformation</a>. This results in code that is slower than native code and more complicated to debug.</p>
<h2><span class="mw-headline" id="Persistence_layers">Persistence layers</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Persistence_(computer_science)&amp;action=edit&amp;section=7" title="Edit section: Persistence layers">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Any <a href="/wiki/Layer_(object-oriented_design)" title="Layer (object-oriented design)">software layer</a> that makes it easier for a program to persist its state is generically called a persistence layer. Most persistence layers will not achieve persistence directly but will use an underlying <a href="/wiki/Database_management_system" title="Database management system" class="mw-redirect">database management system</a>.</p>
<h2><span class="mw-headline" id="System_prevalence">System prevalence</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Persistence_(computer_science)&amp;action=edit&amp;section=8" title="Edit section: System prevalence">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>System prevalence is a technique that combines system images and transaction journals, mentioned above, to overcome their limitations.</p>
<p><b>Shortcomings:</b> A prevalent system must have enough <a href="/wiki/RAM" title="RAM" class="mw-redirect">RAM</a> to hold the entire system state.</p>
<h2><span class="mw-headline" id="Database_management_systems_.28DBMSs.29">Database management systems (DBMSs)</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Persistence_(computer_science)&amp;action=edit&amp;section=9" title="Edit section: Database management systems (DBMSs)">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p><a href="/wiki/DBMS" title="DBMS" class="mw-redirect">DBMSs</a> use a combination of the dirty writes and transaction journaling techniques mentioned above. They provide not only persistence but also other services such as queries, auditing and access control.</p>
<h2><span class="mw-headline" id="Persistent_operating_systems">Persistent operating systems</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Persistence_(computer_science)&amp;action=edit&amp;section=10" title="Edit section: Persistent operating systems">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>Persistent operating systems are <a href="/wiki/Operating_system" title="Operating system">operating systems</a> that remain persistent even after a crash or unexpected shutdown. Operating systems that employ this ability include</p>
<ul>
<li><a href="/wiki/CapROS" title="CapROS">CapROS</a>, revisions of EROS</li>
<li><a href="/wiki/Coyotos" title="Coyotos">Coyotos</a>, successor to EROS</li>
<li><a href="/wiki/Extremely_Reliable_Operating_System" title="Extremely Reliable Operating System" class="mw-redirect">EROS</a>, the successor to KeyKOS</li>
<li><a href="/wiki/KeyKOS" title="KeyKOS">KeyKOS</a></li>
<li><a href="/wiki/Multics" title="Multics">Multics</a> with its <a href="/wiki/Single-level_store" title="Single-level store">single-level store</a></li>
<li><a href="/wiki/Phantom_OS" title="Phantom OS">Phantom</a></li>
<li><a href="/wiki/IBM_System/38" title="IBM System/38">IBM System/38</a></li>
<li>Grasshopper OS <a rel="nofollow" class="external autonumber" href="http://www-os.dcs.st-and.ac.uk/GH/">[1]</a></li>
<li><a href="/w/index.php?title=Lua_OS&amp;action=edit&amp;redlink=1" class="new" title="Lua OS (page does not exist)">Lua OS</a></li>
</ul>
<h2><span class="mw-headline" id="References">References</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Persistence_(computer_science)&amp;action=edit&amp;section=11" title="Edit section: References">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><b><a href="#cite_ref-1">^</a></b></span> <span class="reference-text"><span class="citation web"><a rel="nofollow" class="external text" href="http://blogs.msdn.com/b/windowsmobile/archive/2005/07/14/438991.aspx">"Why persistent storage is a good thing"</a>. Microsoft Blog. 2005-07-14<span class="reference-accessdate">. Retrieved 2014-04-05</span>.</span><span title="ctx_ver=Z39.88-2004&amp;rfr_id=info%3Asid%2Fen.wikipedia.org%3APersistence+%28computer+science%29&amp;rft.btitle=Why+persistent+storage+is+a+good+thing&amp;rft.date=2005-07-14&amp;rft.genre=book&amp;rft_id=http%3A%2F%2Fblogs.msdn.com%2Fb%2Fwindowsmobile%2Farchive%2F2005%2F07%2F14%2F438991.aspx&amp;rft.pub=Microsoft+Blog&amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Abook" class="Z3988"><span style="display:none;">Â </span></span></span></li>
</ol>
<h2><span class="mw-headline" id="See_also">See also</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Persistence_(computer_science)&amp;action=edit&amp;section=12" title="Edit section: See also">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<ul>
<li><a href="/wiki/Persistent_data" title="Persistent data">Persistent data</a></li>
<li><a href="/wiki/Persistent_data_structure" title="Persistent data structure">Persistent data structure</a></li>
<li><a href="/wiki/Persistent_identifier" title="Persistent identifier">Persistent identifier</a></li>
<li><a href="/wiki/Persistent_memory" title="Persistent memory">Persistent memory</a></li>
<li><a href="/wiki/Create,_read,_update_and_delete" title="Create, read, update and delete">CRUD</a></li>
<li><a href="/wiki/Java_Data_Objects" title="Java Data Objects">Java Data Objects</a></li>
<li><a href="/wiki/Java_Persistence_API" title="Java Persistence API">Java Persistence API</a></li>
<li><a href="/wiki/System_Prevalence" title="System Prevalence">System Prevalence</a></li>
<li><a href="/wiki/Orthogonality#Computer_science" title="Orthogonality">Orthogonality</a></li>
<li><a href="/wiki/Service_Data_Object" title="Service Data Object" class="mw-redirect">Service Data Object</a></li>
</ul>
