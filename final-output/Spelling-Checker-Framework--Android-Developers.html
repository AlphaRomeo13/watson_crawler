<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Spelling-Checker-Framework--Android-Developers.html</title></head>
<body>
<h1>Spelling Checker Framework</h1>
<h2>In This Document</h2>
<ol>
    <li>
        Spell Check Lifecycle 
    </li>
    <li>
        Implementing a Spell Checker Service
    </li>
    <li>
        Implementing a Spell Checker Client
    </li>
</ol>
<h2>See also</h2>
<ol>
    <li>
        
        Spell Checker Service sample app
    </li>
    <li>
        
        Spell Checker Client sample app
    </li>
  </ol>
<p>
    The Android platform offers a spelling checker framework that lets you implement   
    and access spell checking in your application. The framework is one of the 
    Text Service APIs offered by the Android platform.
</p>
<p>
    To use the framework in your app, you create a special type of Android service that 
    generates a spelling checker <strong>session</strong> object. Based on text you provide,
    the session object returns spelling suggestions generated by the spelling checker.
</p>
<h2>Spell Checker Lifecycle</h2>
<p>
    The following diagram shows the lifecycle of the spelling checker service:
</p>
<p>
  <strong>Figure 1.</strong> The spelling checker service lifecycle.
</p>
<p>
    To initiate spell checking, your app starts its implementation of the spelling checker
    service. Clients in your app, such as activities or individual UI elements, request a
    spelling checker session from the service, then use the session to get suggestions for text.
    As a client terminates its operation, it closes its spelling checker session. If necessary, your
    app can shut down the spelling checker service at any time.
</p>
<h2>Implementing a Spell Checker Service</h2>
<p>
    To use the spelling checker framework in your app, add a spelling checker service component including
    the session object definition. You can also add to your app an optional activity that
    controls settings. You must also add an XML metadata file that describes
    the spelling checker service, and add the appropriate elements to your manifest file.
</p>
<h3>Spell checker classes</h3>
<p>
    Define the service and session object with the following classes:
</p>
<p>
            See the
            
            Spell Checker Service sample app to learn more about implementing this class.
        </p>
<p>
            Optionally, you can implement
            <code>onCancel()</code>, which
            handles requests to cancel spell checking,
            <code>onGetSuggestions()</code>, which handles a word suggestion request, or
            <code>onGetSuggestionsMultiple()</code>, which handles batches of word suggestion requests.
        </p>
<p>
            See the
            
            Spell Checker Client sample app to learn more about implementing this class.
        </p>
<p>
    <strong>Note:</strong> You must implement all aspects of spell checking as asynchronous and
    thread-safe. A spelling checker may be called simultaneously by different threads running on
    different cores. The <code>SpellCheckerService</code> and
    <code>SpellCheckerService.Session</code> take care of this
    automatically.
</p>
<h3>Spell checker manifest and metadata</h3>
<p>
    In addition to code, you need to provide the appropriate manifest file and a metadata file for
    the spelling checker.
</p>
<p>
    The manifest file defines the application, the service, and the activity for controlling
    settings, as shown in the following snippet:
</p>
<p>WHATSON? ed378343-bee6-4b0b-bbe3-6360b8dc6ea3</p>
<pre>
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.android.samplespellcheckerservice" &gt;
    &lt;application
        android:label="@string/app_name" &gt;
        &lt;service
            android:label="@string/app_name"
            android:name=".SampleSpellCheckerService"
            android:permission="android.permission.BIND_TEXT_SERVICE" &gt;
            &lt;intent-filter &gt;
                &lt;action android:name="android.service.textservice.SpellCheckerService" /&gt;
            &lt;/intent-filter&gt;

            &lt;meta-data
                android:name="android.view.textservice.scs"
                android:resource="@xml/spellchecker" /&gt;
        &lt;/service&gt;

        &lt;activity
            android:label="@string/sample_settings"
            android:name="SpellCheckerSettingsActivity" &gt;
            &lt;intent-filter &gt;
                &lt;action android:name="android.intent.action.MAIN" /&gt;
            &lt;/intent-filter&gt;
        &lt;/activity&gt;
    &lt;/application&gt;
&lt;/manifest&gt;
</pre>
<p>
    Notice that components that want to use the service must request the permission
    <code>BIND_TEXT_SERVICE</code> to ensure that only the system binds to
    the service. The service's definition also specifies the <code>spellchecker.xml</code> metadata
    file, which is described in the next section.
</p>
<p>
    The metadata file <code>spellchecker.xml</code> contains the following XML:
</p>
<p>WHATSON? 5e6839ed-7c41-4735-affe-5dbf927a68cb</p>
<pre>
&lt;spell-checker xmlns:android="http://schemas.android.com/apk/res/android"
        android:label="@string/spellchecker_name"
        android:settingsActivity="com.example.SpellCheckerSettingsActivity"&gt;
    &lt;subtype
            android:label="@string/subtype_generic"
            android:subtypeLocale="en”
    /&gt;
    &lt;subtype
            android:label="@string/subtype_generic"
            android:subtypeLocale="fr”
    /&gt;
&lt;/spell-checker&gt;
</pre>
<p>
    The metadata specifies the activity that the spelling checker uses for controlling settings. It
    also defines subtypes for the spelling checker; in this case, the subtypes define locales that
    the spelling checker can handle.
</p>
<h2>Accessing the Spell Checker Service from a Client</h2>
<p>
    Applications that use <code>TextView</code> views automatically benefit from spell
    checking, because <code>TextView</code> automatically uses a spelling checker. The
    following screenshots show this:
</p>
<p>
  <strong>Figure 2.</strong> Spell checking in TextView.
</p>
<p>
    However, you may want to interact directly with a spelling checker service in other cases as well.
    The following diagram shows the flow of control for interacting with a spelling checker service:
</p>
<p>
  <strong>Figure 3.</strong> Interacting with a spelling checker service.
</p>
<p>
    The 
    Spell Checker Client sample app shows how to interact with a spelling checker service. The
    LatinIME input method editor in the Android Open Source Project also contains an example of
    spell checking.
</p>
<h1>Spelling Checker Framework</h1>
<h2>In This Document</h2>
<ol>
    <li>
        Spell Check Lifecycle 
    </li>
    <li>
        Implementing a Spell Checker Service
    </li>
    <li>
        Implementing a Spell Checker Client
    </li>
</ol>
<h2>See also</h2>
<ol>
    <li>
        
        Spell Checker Service sample app
    </li>
    <li>
        
        Spell Checker Client sample app
    </li>
  </ol>
<p>
    The Android platform offers a spelling checker framework that lets you implement   
    and access spell checking in your application. The framework is one of the 
    Text Service APIs offered by the Android platform.
</p>
<p>
    To use the framework in your app, you create a special type of Android service that 
    generates a spelling checker <strong>session</strong> object. Based on text you provide,
    the session object returns spelling suggestions generated by the spelling checker.
</p>
<h2>Spell Checker Lifecycle</h2>
<p>
    The following diagram shows the lifecycle of the spelling checker service:
</p>
<p>
  <strong>Figure 1.</strong> The spelling checker service lifecycle.
</p>
<p>
    To initiate spell checking, your app starts its implementation of the spelling checker
    service. Clients in your app, such as activities or individual UI elements, request a
    spelling checker session from the service, then use the session to get suggestions for text.
    As a client terminates its operation, it closes its spelling checker session. If necessary, your
    app can shut down the spelling checker service at any time.
</p>
<h2>Implementing a Spell Checker Service</h2>
<p>
    To use the spelling checker framework in your app, add a spelling checker service component including
    the session object definition. You can also add to your app an optional activity that
    controls settings. You must also add an XML metadata file that describes
    the spelling checker service, and add the appropriate elements to your manifest file.
</p>
<h3>Spell checker classes</h3>
<p>
    Define the service and session object with the following classes:
</p>
<p>
            See the
            
            Spell Checker Service sample app to learn more about implementing this class.
        </p>
<p>
            Optionally, you can implement
            <code>onCancel()</code>, which
            handles requests to cancel spell checking,
            <code>onGetSuggestions()</code>, which handles a word suggestion request, or
            <code>onGetSuggestionsMultiple()</code>, which handles batches of word suggestion requests.
        </p>
<p>
            See the
            
            Spell Checker Client sample app to learn more about implementing this class.
        </p>
<p>
    <strong>Note:</strong> You must implement all aspects of spell checking as asynchronous and
    thread-safe. A spelling checker may be called simultaneously by different threads running on
    different cores. The <code>SpellCheckerService</code> and
    <code>SpellCheckerService.Session</code> take care of this
    automatically.
</p>
<h3>Spell checker manifest and metadata</h3>
<p>
    In addition to code, you need to provide the appropriate manifest file and a metadata file for
    the spelling checker.
</p>
<p>
    The manifest file defines the application, the service, and the activity for controlling
    settings, as shown in the following snippet:
</p>
<p>WHATSON? 55cd59eb-9d71-4ff5-82f9-1f302656a704</p>
<pre>
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
    package="com.example.android.samplespellcheckerservice" &gt;
    &lt;application
        android:label="@string/app_name" &gt;
        &lt;service
            android:label="@string/app_name"
            android:name=".SampleSpellCheckerService"
            android:permission="android.permission.BIND_TEXT_SERVICE" &gt;
            &lt;intent-filter &gt;
                &lt;action android:name="android.service.textservice.SpellCheckerService" /&gt;
            &lt;/intent-filter&gt;

            &lt;meta-data
                android:name="android.view.textservice.scs"
                android:resource="@xml/spellchecker" /&gt;
        &lt;/service&gt;

        &lt;activity
            android:label="@string/sample_settings"
            android:name="SpellCheckerSettingsActivity" &gt;
            &lt;intent-filter &gt;
                &lt;action android:name="android.intent.action.MAIN" /&gt;
            &lt;/intent-filter&gt;
        &lt;/activity&gt;
    &lt;/application&gt;
&lt;/manifest&gt;
</pre>
<p>
    Notice that components that want to use the service must request the permission
    <code>BIND_TEXT_SERVICE</code> to ensure that only the system binds to
    the service. The service's definition also specifies the <code>spellchecker.xml</code> metadata
    file, which is described in the next section.
</p>
<p>
    The metadata file <code>spellchecker.xml</code> contains the following XML:
</p>
<p>WHATSON? d72648af-13b3-4682-a399-d2e3cc9f3ea4</p>
<pre>
&lt;spell-checker xmlns:android="http://schemas.android.com/apk/res/android"
        android:label="@string/spellchecker_name"
        android:settingsActivity="com.example.SpellCheckerSettingsActivity"&gt;
    &lt;subtype
            android:label="@string/subtype_generic"
            android:subtypeLocale="en”
    /&gt;
    &lt;subtype
            android:label="@string/subtype_generic"
            android:subtypeLocale="fr”
    /&gt;
&lt;/spell-checker&gt;
</pre>
<p>
    The metadata specifies the activity that the spelling checker uses for controlling settings. It
    also defines subtypes for the spelling checker; in this case, the subtypes define locales that
    the spelling checker can handle.
</p>
<h2>Accessing the Spell Checker Service from a Client</h2>
<p>
    Applications that use <code>TextView</code> views automatically benefit from spell
    checking, because <code>TextView</code> automatically uses a spelling checker. The
    following screenshots show this:
</p>
<p>
  <strong>Figure 2.</strong> Spell checking in TextView.
</p>
<p>
    However, you may want to interact directly with a spelling checker service in other cases as well.
    The following diagram shows the flow of control for interacting with a spelling checker service:
</p>
<p>
  <strong>Figure 3.</strong> Interacting with a spelling checker service.
</p>
<p>
    The 
    Spell Checker Client sample app shows how to interact with a spelling checker service. The
    LatinIME input method editor in the Android Open Source Project also contains an example of
    spell checking.
</p>
</body>
</html>