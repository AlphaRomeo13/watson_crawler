<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>The-finally-Block-The-Java-Tutorials---------------------Essential-Classes--Exceptions.html</title></head>
<body>
<h1>The finally Block</h1>
<p>The <code>finally</code> block <i>always</i> executes when the <code>try</code> block exits. This ensures that the <code>finally</code> block is executed even if an unexpected exception occurs. But <code>finally</code> is useful for more than just exception handling Â— it allows the programmer to avoid having cleanup code accidentally bypassed by a <code>return</code>, <code>continue</code>, or <code>break</code>. Putting cleanup code in a <code>finally</code> block is always a good practice, even when no exceptions are anticipated.</p>
<p>The <code>try</code> block of the <code>writeList</code> method that you've been working with here opens a <code>PrintWriter</code>. The program should close that stream before exiting the <code>writeList</code> method. This poses a somewhat complicated problem because <code>writeList</code>'s <code>try</code> block can exit in one of three ways.</p>
<ol>
<li>The <code>new FileWriter</code> statement fails and throws an <code>IOException</code>.</li>
<li>The <code>list.get(i)</code> statement fails and throws an <code>IndexOutOfBoundsException</code>.</li>
<li>Everything succeeds and the <code>try</code> block exits normally.</li>
</ol>
<p>The runtime system always executes the statements within the <code>finally</code> block regardless of what happens within the <code>try</code> block. So it's the perfect place to perform cleanup.</p>
<p>The following <code>finally</code> block for the <code>writeList</code> method cleans up and then closes the <code>PrintWriter</code>.</p>
<p>WHATSON? 8ac9f69b-0e16-4ed0-94a7-6cd342024a65</p>
<pre>
finally {
    if (out != null) { 
        System.out.println("Closing PrintWriter");
        out.close(); 
    } else { 
        System.out.println("PrintWriter not open");
    } 
} 
</pre>
</body>
</html>